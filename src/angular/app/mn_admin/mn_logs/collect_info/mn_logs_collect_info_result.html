<div class="collect_result_dialog collect_information_dialog" id="js_collect_result_view" mn-spinner="loadingResult">
  <div class="content" id="js_collect_progress_container">
    <div id="js_collection_status" class="collection_status dynamic_{{state.status}}">
      <span>Collection {{state.status}}  {{state.status === 'running' ? '...' : '.'}}</span>
    </div>
    <div ng-if="state.nodesByStatus.started">
      <p>In progress:</p>
      <div class="js_result result">
        <div ng-repeat="node in state.nodesByStatus.started">{{node.nodeName}}</div>
      </div>
    </div>
    <div ng-if="state.nodesByStatus.starting">
      <p>Pending:</p>
      <div class="js_result result">
        <div ng-repeat="node in state.nodesByStatus.starting">{{node.nodeName}}</div>
      </div>
    </div>
    <div ng-if="state.nodesByStatus.collected">
      <p class="green">Logs were successfully collected to the following paths:</p>
      <div class="js_result result">
        <div ng-repeat="node in state.nodesByStatus.collected"><strong>{{node.nodeName}}</strong> {{node.path}}</div>
      </div>
    </div>
    <div ng-if="state.nodesByStatus.startedUpload">
      <p class="green">Logs are being uploaded from this paths:</p>
      <div class="js_result result">
        <div ng-repeat="node in state.nodesByStatus.startedUpload"><strong>{{node.nodeName}}</strong> {{node.path}}</div>
      </div>
    </div>
    <div ng-if="state.nodesByStatus.startingUpload">
      <p class="green">Logs are pending upload from this paths:</p>
      <div class="js_result result">
        <div ng-repeat="node in state.nodesByStatus.startingUpload"><strong>{{node.nodeName}}</strong> {{node.path}}</div>
      </div>
    </div>
    <div ng-if="state.nodesByStatus.uploaded">
      <p class="green">Logs were successfully uploaded to the following URLs:</p>
      <div class="js_result result">
        <div ng-repeat="node in state.nodesByStatus.uploaded"><a href="{{node.url}}" target="_blank">{{node.url}}</a></div>
      </div>
    </div>
    <div ng-if="state.nodesByStatus.failedUpload">
      <p class="red">Warning: The following logs were successfully collected but failed to upload. Please manually upload from the following locations:</p>
      <div class="js_result result">
        <div ng-repeat="node in state.nodesByStatus.failedUpload"><strong>{{node.nodeName}}</strong> {{node.path}}</div>
      </div>
    </div>
    <div ng-if="state.nodesByStatus.failed">
      <p class="red">Error: Unable to collect logs from the following nodes:</p>
      <div class="js_result result">
        <div ng-repeat="node in state.nodesByStatus.failed">{{node.nodeName}}</div>
      </div>
    </div>
    <div ng-if="state.nodesByStatus.cancelled">
      <p class="red">Cancelled Nodes:</p>
      <div class="js_result result">
        <div ng-repeat="node in state.nodesByStatus.cancelled">{{node.nodeName}}</div>
      </div>
    </div>
    <div ng-if="state.nodeErrors.length">
      <p class="red">Node Errors:</p>
      <div class="js_result result">
        <div ng-repeat="node in state.nodeErrors"><strong>{{node.nodeName}}</strong> {{node.error}}</div></div>
      </div>
    </div>
  </div>
</div>