<!--
Copyright 2020-Present Couchbase, Inc.

Use of this software is governed by the Business Source License included in
the file licenses/BSL-Couchbase.txt.  As of the Change Date specified in that
file, in accordance with the Business Source License, use of this software will
be governed by the Apache License, Version 2.0, included in the file
licenses/APL2.txt.
-->

<div>
  <h4>Current Version</h4>
  <p class="text-medium">
    <em>Couchbase Server {{settingsNotificationsCtl.implementationVersion | mnPrettyVersion}}</em>
  </p>
  <div class="margin-bottom-half">
    <input
       type="checkbox"
       id="for-update-notice-enable"
       ng-disabled="!rbac.cluster.settings.write || !settingsNotificationsCtl.isEnterprise"
       ng-model="settingsNotificationsCtl.updates.enabled">
    <label for="for-update-notice-enable" class="margin-right-zero">
      Share usage information with Couchbase and get software update notifications.
    </label>
    <span
       class="fa-stack icon-info"
       uib-tooltip-html="'When this checkbox is enabled, this product automatically collects configuration, usage and performance data, including  cluster information (such as settings and configuration, software version, cluster ID, load levels, and resource quotas), and browser information (such as IP address, inferred geolocation at the city level, and browser type) (collectively with the foregoing, the “Performance Data”). The Performance Data is used by Couchbase to develop and improve our products as well as inform our sales and marketing programs. We do not access or collect any data stored in the Couchbase products. We use this Performance Data to understand aggregate usage patterns and make our products more useful to you. The Performance Data is collected by Couchbase when you access the Admin UI in the configuration wizard if this checkbox is selected. You may turn this feature off at any time by deselecting the checkbox. You can find out more about what data is collected and how it is used if you choose to keep this checkbox enabled <a href=\'https://docs.couchbase.com/server/{{settingsNotificationsCtl.implementationVersion | mnMajorMinorVersion}}/product-privacy-faq.html\' target=\'_blank\' rel=\'noopener noreferre\'>here</a>, which supplements Couchbase’s privacy policy linked <a href=\'https://www.couchbase.com/privacy-policy\' target=\'_blank\' rel=\'noopener noreferre\'>here</a>.'";
       tooltip-placement="auto right">
      <span class="icon fa-circle-thin fa-stack-2x"></span>
      <span class="icon fa-info fa-stack-1x"></span>
    </span>
  </div>
  <div ng-if="settingsNotificationsCtl.updates.sendStats">
    <p
       ng-if="settingsNotificationsCtl.updates.newVersion === undefined"
       class="error error-form">
      Warning: There was a problem with retreiving the update information.
    </p>
    <p ng-if="settingsNotificationsCtl.updates.newVersion === false">
      <em>No updates available.</em>
    </p>
    <p ng-if="settingsNotificationsCtl.updates.newVersion" class="text-small">
      {{settingsNotificationsCtl.updates.newVersion}} is available.<br>
      New features and improvements in this release can be found in the
      <a href="{{settingsNotificationsCtl.updates.links.release}}"
      target="_blank" rel="noopener noreferrer">release notes</a>.
    </p>
    <div
       ng-if="settingsNotificationsCtl.updates.newVersion"
       class="margin-top-1 margin-bottom-1-5">
      <a
         class="btn outline margin-right-1"
         href="{{settingsNotificationsCtl.updates.links.download}}"
         target="_blank"
         rel="noopener noreferrer">
        Download Latest Version
      </a>
      <span class="text-small">
        <a href="https://docs.couchbase.com/server/{{settingsNotificationsCtl.implementationVersion | mnMajorMinorVersion}}/install/upgrade.html" target="_blank" rel="noopener noreferrer">
          Upgrade Instructions
        </a>
        |
        <a href="{{settingsNotificationsCtl.updates.links.release}}" target="_blank" rel="noopener noreferrer">
          Release Notes
        </a>
      </span>
    </div>
  </div>
</div>
