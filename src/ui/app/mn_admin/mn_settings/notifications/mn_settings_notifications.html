<div mn-spinner="settingsNotificationsCtl.viewLoading || !settingsNotificationsCtl.updates">
  <form
     class="forms width-680"
     ng-submit="settingsNotificationsCtl.submit()">
    <p>
      You are running version {{settingsNotificationsCtl.implementationVersion | mnPrettyVersion}}.
    </p>
    <div ng-if="settingsNotificationsCtl.updates.sendStats">
      <p
         ng-if="settingsNotificationsCtl.updates.newVersion === undefined"
         class="error error-form">
        Warning: There was a problem with retreiving the update information.
      </p>
      <p ng-if="settingsNotificationsCtl.updates.newVersion === false">
        <em>No updates available.</em>
      </p>
      <p ng-if="settingsNotificationsCtl.updates.newVersion">
        A new version ({{settingsNotificationsCtl.updates.newVersion}}) is available:
      </p>
      <ul ng-if="settingsNotificationsCtl.updates.newVersion">
        <li>
          <a href="{{settingsNotificationsCtl.updates.links.release}}">Release notes</a>
        </li>
        <li>
          <a href="{{settingsNotificationsCtl.updates.links.download}}">Download</a>
          the new version
        </li>
      </ul>
      <p ng-if="settingsNotificationsCtl.updates.info">
        {{settingsNotificationsCtl.updates.info}}
      </p>
    </div>
    <div class="formrow checkbox-list">
      <label class="checkbox">
        <input
           type="checkbox"
           ng-disabled="!rbac.cluster.settings.write"
           ng-model="settingsNotificationsCtl.updates.enabled">
        Enable software update notifications.
      </label>
      <span
         class="fa-stack icon-info"
         uib-tooltip="Enabling software update notifications allows notification in the Couchbase web console when a new version of Couchbase Server is available. Configuration information transferred in the update check is anonymous and does not include any stored key-value data."
         tooltip-placement="right">
        <span class="icon fa-circle-thin fa-stack-2x"></span>
        <span class="icon fa-info fa-stack-1x"></span>
      </span>
    </div>
    <button
       ng-show="rbac.cluster.settings.write"
       type="submit">Save</button>
  </form>
</div>
