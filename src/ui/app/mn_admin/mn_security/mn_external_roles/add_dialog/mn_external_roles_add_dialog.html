<div class="dialog-med">
  <h2 class="ellipsis panel-header">
    Manage User &gt; {{externalRolesAddDialogCtl.userID}}
  </h2>
  <form
     ng-submit="externalRolesAddDialogCtl.save()"
     mn-spinner="externalRolesAddDialogCtl.viewLoading">
    <div class="panel-content forms">
      <div
         class="error error-form"
         ng-show="externalRolesAddDialogCtl.errors">
        {{externalRolesAddDialogCtl.errors}}
      </div>
      <div class="formrow">
        <label for="name_inp">Username:</label>
        <input
           type="text"
           autocorrect="off"
           spellcheck="false"
           autocapitalize="off"
           id="name_inp"
           ng-model="externalRolesAddDialogCtl.user.id">
      </div>
      <div class="formrow">
        <label for="name_full_inp">Full Name <small>(optional)</small></label>
        <input
           type="text"
           autocorrect="off"
           spellcheck="false"
           autocapitalize="off"
           id="name_full_inp"
           ng-model="externalRolesAddDialogCtl.user.name">
      </div>
      <div class="formrow">
        <label for="user_inp">Role(s)</label>
        <ui-select
           style="border: 1px solid #d1d1d1;"
           on-select="externalRolesAddDialogCtl.onSelect($select)"
           multiple
           ng-if="externalRolesAddDialogCtl.roles"
           ng-model="externalRolesAddDialogCtl.roles.selected">
          <ui-select-match
             placeholder="choose single or multiple roles">
            {{$item.name}}<span ng-show="$item.bucket_name">[{{$item.bucket_name}}]</span>
          </ui-select-match>
          <ui-select-choices
             repeat="role in externalRolesAddDialogCtl.roles | filter: $select.search">
            <span
               class="ellipsis"
               ng-bind-html="(role.name + (role.bucket_name ? '[' + role.bucket_name + ']' : '')) | highlight: $select.search"></span>
          </ui-select-choices>
        </ui-select>
      </div>
    </div>
    <div class="panel-footer">
      <a
         href=""
         ng-click="$dismiss()">Cancel</a>
      <button type="submit">Save</button>
    </div>
  </form>
</div>
