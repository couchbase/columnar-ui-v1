<div
   class="indent-1 cursor-auto">
  <div class="row items-top margin-bottom-1">
    <div class="margin-right-half">
      <div ng-click="$event.stopPropagation();">
        <strong>Definition</strong> &nbsp;{{row.definition}}
      </div>
      <div>
        <strong>Storage Mode</strong> &nbsp;{{row.storageMode | mnFormatStorageMode:mnGsiTableCtl.pools.isEnterprise}} &nbsp;
        <span ng-show="row.hosts.length > 1" class="margin-bottom-0">
          <strong>Nodes</strong> &nbsp; {{mnGsiItemDetailsCtl.hosts}}
        </span>
      </div>
    </div>
    <div class="nowrap margin-right-1">
      <button
         class="outline"
         ui-sref="app.admin.query.workbench({query: row.definition})">
        Open in Workbench
      </button>
      <button
         ng-if="rbac.cluster.bucket[row.bucket].n1ql.select.execute"
         class="outline"
         ng-click="mnGsiItemDetailsCtl.dropIndex(row)">Drop</button>
    </div>
  </div>
  <h5
     class="disclosure inline margin-right-1"
     ng-class="{'disclosed' : showStats}"
     ng-click="showStats = !showStats; $event.stopPropagation();">
    Index Stats
    <span ng-if="row.partitions" class="text-small">(per replica)</span>
  </h5>
  <select
     ng-if="row.partitions"
     ng-model="mnGsiItemDetailsCtl.selectedPartition"
     ng-change="mnGsiItemDetailsCtl.onSelectPartition()"
     class="margin-right-1"
     ng-click="$event.stopPropagation();">
    <option
       ng-repeat="(instId, partition) in row.partitions"
       value="{{instId}}">
      {{partition.index}}
    </option>
  </select>

  <select
     ng-model="mnGsiItemDetailsCtl.zoom"
     ng-change="mnGsiItemDetailsCtl.onSelectZoom()"
     ng-click="$event.stopPropagation();">
    <option value="minute">minute</option>
    <option value="hour">hour</option>
    <option value="day">day</option>
    <option value="week">week</option>
    <option value="month">month</option>
  </select>

  <div ng-if="showStats" class="row charts" ng-click="$event.stopPropagation();">
    <mn-statistics-chart
       ng-repeat="config in mnGsiItemDetailsCtl.charts track by config.id"
       get-nvd3-options="mnGsiItemDetailsCtl.getNvd3Options(config)"
       ng-class="'statistics-' + config.size"
       bucket="{{row.bucket}}"
       zoom="{{mnGsiItemDetailsCtl.zoom}}"
       class="panel"
       config="config"></mn-statistics-chart>
  </div>
  <!-- nodes="statisticsNewCtl.nodes" -->
</div>
