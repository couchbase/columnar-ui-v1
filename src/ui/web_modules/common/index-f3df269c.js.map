{"version":3,"file":"index-f3df269c.js","sources":["../../node_modules/d3-interpolate/src/transform/decompose.js","../../node_modules/d3-interpolate/src/transform/parse.js","../../node_modules/d3-interpolate/src/transform/index.js"],"sourcesContent":["var degrees = 180 / Math.PI;\n\nexport var identity = {\n  translateX: 0,\n  translateY: 0,\n  rotate: 0,\n  skewX: 0,\n  scaleX: 1,\n  scaleY: 1\n};\n\nexport default function(a, b, c, d, e, f) {\n  var scaleX, scaleY, skewX;\n  if (scaleX = Math.sqrt(a * a + b * b)) a /= scaleX, b /= scaleX;\n  if (skewX = a * c + b * d) c -= a * skewX, d -= b * skewX;\n  if (scaleY = Math.sqrt(c * c + d * d)) c /= scaleY, d /= scaleY, skewX /= scaleY;\n  if (a * d < b * c) a = -a, b = -b, skewX = -skewX, scaleX = -scaleX;\n  return {\n    translateX: e,\n    translateY: f,\n    rotate: Math.atan2(b, a) * degrees,\n    skewX: Math.atan(skewX) * degrees,\n    scaleX: scaleX,\n    scaleY: scaleY\n  };\n}\n","import decompose, {identity} from \"./decompose.js\";\n\nvar cssNode,\n    cssRoot,\n    cssView,\n    svgNode;\n\nexport function parseCss(value) {\n  if (value === \"none\") return identity;\n  if (!cssNode) cssNode = document.createElement(\"DIV\"), cssRoot = document.documentElement, cssView = document.defaultView;\n  cssNode.style.transform = value;\n  value = cssView.getComputedStyle(cssRoot.appendChild(cssNode), null).getPropertyValue(\"transform\");\n  cssRoot.removeChild(cssNode);\n  value = value.slice(7, -1).split(\",\");\n  return decompose(+value[0], +value[1], +value[2], +value[3], +value[4], +value[5]);\n}\n\nexport function parseSvg(value) {\n  if (value == null) return identity;\n  if (!svgNode) svgNode = document.createElementNS(\"http://www.w3.org/2000/svg\", \"g\");\n  svgNode.setAttribute(\"transform\", value);\n  if (!(value = svgNode.transform.baseVal.consolidate())) return identity;\n  value = value.matrix;\n  return decompose(value.a, value.b, value.c, value.d, value.e, value.f);\n}\n","import number from \"../number.js\";\nimport {parseCss, parseSvg} from \"./parse.js\";\n\nfunction interpolateTransform(parse, pxComma, pxParen, degParen) {\n\n  function pop(s) {\n    return s.length ? s.pop() + \" \" : \"\";\n  }\n\n  function translate(xa, ya, xb, yb, s, q) {\n    if (xa !== xb || ya !== yb) {\n      var i = s.push(\"translate(\", null, pxComma, null, pxParen);\n      q.push({i: i - 4, x: number(xa, xb)}, {i: i - 2, x: number(ya, yb)});\n    } else if (xb || yb) {\n      s.push(\"translate(\" + xb + pxComma + yb + pxParen);\n    }\n  }\n\n  function rotate(a, b, s, q) {\n    if (a !== b) {\n      if (a - b > 180) b += 360; else if (b - a > 180) a += 360; // shortest path\n      q.push({i: s.push(pop(s) + \"rotate(\", null, degParen) - 2, x: number(a, b)});\n    } else if (b) {\n      s.push(pop(s) + \"rotate(\" + b + degParen);\n    }\n  }\n\n  function skewX(a, b, s, q) {\n    if (a !== b) {\n      q.push({i: s.push(pop(s) + \"skewX(\", null, degParen) - 2, x: number(a, b)});\n    } else if (b) {\n      s.push(pop(s) + \"skewX(\" + b + degParen);\n    }\n  }\n\n  function scale(xa, ya, xb, yb, s, q) {\n    if (xa !== xb || ya !== yb) {\n      var i = s.push(pop(s) + \"scale(\", null, \",\", null, \")\");\n      q.push({i: i - 4, x: number(xa, xb)}, {i: i - 2, x: number(ya, yb)});\n    } else if (xb !== 1 || yb !== 1) {\n      s.push(pop(s) + \"scale(\" + xb + \",\" + yb + \")\");\n    }\n  }\n\n  return function(a, b) {\n    var s = [], // string constants and placeholders\n        q = []; // number interpolators\n    a = parse(a), b = parse(b);\n    translate(a.translateX, a.translateY, b.translateX, b.translateY, s, q);\n    rotate(a.rotate, b.rotate, s, q);\n    skewX(a.skewX, b.skewX, s, q);\n    scale(a.scaleX, a.scaleY, b.scaleX, b.scaleY, s, q);\n    a = b = null; // gc\n    return function(t) {\n      var i = -1, n = q.length, o;\n      while (++i < n) s[(o = q[i]).i] = o.x(t);\n      return s.join(\"\");\n    };\n  };\n}\n\nexport var interpolateTransformCss = interpolateTransform(parseCss, \"px, \", \"px)\", \"deg)\");\nexport var interpolateTransformSvg = interpolateTransform(parseSvg, \", \", \")\", \")\");\n"],"names":["cssNode","cssRoot","cssView","svgNode","degrees","Math","PI","identity","translateX","translateY","rotate","skewX","scaleX","scaleY","a","b","c","d","e","f","sqrt","atan2","atan","interpolateTransform","parse","pxComma","pxParen","degParen","pop","s","length","q","xa","ya","xb","yb","i","push","x","number","translate","scale","t","o","n","join","interpolateTransformCss","value","document","createElement","documentElement","defaultView","style","transform","getComputedStyle","appendChild","getPropertyValue","removeChild","decompose","slice","split","interpolateTransformSvg","createElementNS","setAttribute","baseVal","consolidate","matrix"],"mappings":"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"}