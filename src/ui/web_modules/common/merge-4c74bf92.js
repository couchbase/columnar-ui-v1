import{b as t}from"./tslib.es6-c4a4947b.js";import{b as n,S as e,c as o,O as c,m as r,i as u,d as i,f as s}from"./mergeMap-bab8a89f.js";function l(){return function(t){return t.lift(new a(t))}}var a=function(){function t(t){this.connectable=t}return t.prototype.call=function(t,n){var e=this.connectable;e._refCount++;var o=new b(t,e),c=n.subscribe(o);return o.closed||(o.connection=e.connect()),c},t}(),b=function(n){function e(t,e){var o=n.call(this,t)||this;return o.connectable=e,o}return t(e,n),e.prototype._unsubscribe=function(){var t=this.connectable;if(t){this.connectable=null;var n=t._refCount;if(n<=0)this.connection=null;else if(t._refCount=n-1,n>1)this.connection=null;else{var e=this.connection,o=t._connection;this.connection=null,!o||e&&o!==e||o.unsubscribe()}}else this.connection=null},e}(n),p=function(n){function o(t,e){var o=n.call(this)||this;return o.source=t,o.subjectFactory=e,o._refCount=0,o._isComplete=!1,o}return t(o,n),o.prototype._subscribe=function(t){return this.getSubject().subscribe(t)},o.prototype.getSubject=function(){var t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject},o.prototype.connect=function(){var t=this._connection;return t||(this._isComplete=!1,(t=this._connection=new e).add(this.source.subscribe(new h(this.getSubject(),this))),t.closed&&(this._connection=null,t=e.EMPTY)),t},o.prototype.refCount=function(){return l()(this)},o}(c),f=function(){var t=p.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}}(),h=function(n){function e(t,e){var o=n.call(this,t)||this;return o.connectable=e,o}return t(e,n),e.prototype._error=function(t){this._unsubscribe(),n.prototype._error.call(this,t)},e.prototype._complete=function(){this.connectable._isComplete=!0,this._unsubscribe(),n.prototype._complete.call(this)},e.prototype._unsubscribe=function(){var t=this.connectable;if(t){this.connectable=null;var n=t._connection;t._refCount=0,t._subject=null,t._connection=null,n&&n.unsubscribe()}},e}(o);function _(t){return void 0===t&&(t=Number.POSITIVE_INFINITY),r(u,t)}function v(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var e=Number.POSITIVE_INFINITY,o=null,r=t[t.length-1];return i(r)?(o=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof r&&(e=t.pop()),null===o&&1===t.length&&t[0]instanceof c?t[0]:_(e)(s(t,o))}export{p as C,_ as a,f as c,v as m,l as r};
//# sourceMappingURL=merge-4c74bf92.js.map
