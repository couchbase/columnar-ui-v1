{"version":3,"file":"ReplaySubject-432677af.js","sources":["../../node_modules/rxjs/_esm5/internal/scheduler/Action.js","../../node_modules/rxjs/_esm5/internal/Notification.js","../../node_modules/rxjs/_esm5/internal/scheduler/AsyncAction.js","../../node_modules/rxjs/_esm5/internal/scheduler/QueueAction.js","../../node_modules/rxjs/_esm5/internal/Scheduler.js","../../node_modules/rxjs/_esm5/internal/scheduler/AsyncScheduler.js","../../node_modules/rxjs/_esm5/internal/scheduler/queue.js","../../node_modules/rxjs/_esm5/internal/scheduler/QueueScheduler.js","../../node_modules/rxjs/_esm5/internal/observable/empty.js","../../node_modules/rxjs/_esm5/internal/observable/throwError.js","../../node_modules/rxjs/_esm5/internal/operators/observeOn.js","../../node_modules/rxjs/_esm5/internal/ReplaySubject.js"],"sourcesContent":["/** PURE_IMPORTS_START tslib,_Subscription PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { Subscription } from '../Subscription';\nvar Action = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(Action, _super);\n    function Action(scheduler, work) {\n        return _super.call(this) || this;\n    }\n    Action.prototype.schedule = function (state, delay) {\n        if (delay === void 0) {\n            delay = 0;\n        }\n        return this;\n    };\n    return Action;\n}(Subscription));\nexport { Action };\n//# sourceMappingURL=Action.js.map\n","/** PURE_IMPORTS_START _observable_empty,_observable_of,_observable_throwError PURE_IMPORTS_END */\nimport { empty } from './observable/empty';\nimport { of } from './observable/of';\nimport { throwError } from './observable/throwError';\nexport var NotificationKind;\n/*@__PURE__*/ (function (NotificationKind) {\n    NotificationKind[\"NEXT\"] = \"N\";\n    NotificationKind[\"ERROR\"] = \"E\";\n    NotificationKind[\"COMPLETE\"] = \"C\";\n})(NotificationKind || (NotificationKind = {}));\nvar Notification = /*@__PURE__*/ (function () {\n    function Notification(kind, value, error) {\n        this.kind = kind;\n        this.value = value;\n        this.error = error;\n        this.hasValue = kind === 'N';\n    }\n    Notification.prototype.observe = function (observer) {\n        switch (this.kind) {\n            case 'N':\n                return observer.next && observer.next(this.value);\n            case 'E':\n                return observer.error && observer.error(this.error);\n            case 'C':\n                return observer.complete && observer.complete();\n        }\n    };\n    Notification.prototype.do = function (next, error, complete) {\n        var kind = this.kind;\n        switch (kind) {\n            case 'N':\n                return next && next(this.value);\n            case 'E':\n                return error && error(this.error);\n            case 'C':\n                return complete && complete();\n        }\n    };\n    Notification.prototype.accept = function (nextOrObserver, error, complete) {\n        if (nextOrObserver && typeof nextOrObserver.next === 'function') {\n            return this.observe(nextOrObserver);\n        }\n        else {\n            return this.do(nextOrObserver, error, complete);\n        }\n    };\n    Notification.prototype.toObservable = function () {\n        var kind = this.kind;\n        switch (kind) {\n            case 'N':\n                return of(this.value);\n            case 'E':\n                return throwError(this.error);\n            case 'C':\n                return empty();\n        }\n        throw new Error('unexpected notification kind value');\n    };\n    Notification.createNext = function (value) {\n        if (typeof value !== 'undefined') {\n            return new Notification('N', value);\n        }\n        return Notification.undefinedValueNotification;\n    };\n    Notification.createError = function (err) {\n        return new Notification('E', undefined, err);\n    };\n    Notification.createComplete = function () {\n        return Notification.completeNotification;\n    };\n    Notification.completeNotification = new Notification('C');\n    Notification.undefinedValueNotification = new Notification('N', undefined);\n    return Notification;\n}());\nexport { Notification };\n//# sourceMappingURL=Notification.js.map\n","/** PURE_IMPORTS_START tslib,_Action PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { Action } from './Action';\nvar AsyncAction = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(AsyncAction, _super);\n    function AsyncAction(scheduler, work) {\n        var _this = _super.call(this, scheduler, work) || this;\n        _this.scheduler = scheduler;\n        _this.work = work;\n        _this.pending = false;\n        return _this;\n    }\n    AsyncAction.prototype.schedule = function (state, delay) {\n        if (delay === void 0) {\n            delay = 0;\n        }\n        if (this.closed) {\n            return this;\n        }\n        this.state = state;\n        var id = this.id;\n        var scheduler = this.scheduler;\n        if (id != null) {\n            this.id = this.recycleAsyncId(scheduler, id, delay);\n        }\n        this.pending = true;\n        this.delay = delay;\n        this.id = this.id || this.requestAsyncId(scheduler, this.id, delay);\n        return this;\n    };\n    AsyncAction.prototype.requestAsyncId = function (scheduler, id, delay) {\n        if (delay === void 0) {\n            delay = 0;\n        }\n        return setInterval(scheduler.flush.bind(scheduler, this), delay);\n    };\n    AsyncAction.prototype.recycleAsyncId = function (scheduler, id, delay) {\n        if (delay === void 0) {\n            delay = 0;\n        }\n        if (delay !== null && this.delay === delay && this.pending === false) {\n            return id;\n        }\n        clearInterval(id);\n        return undefined;\n    };\n    AsyncAction.prototype.execute = function (state, delay) {\n        if (this.closed) {\n            return new Error('executing a cancelled action');\n        }\n        this.pending = false;\n        var error = this._execute(state, delay);\n        if (error) {\n            return error;\n        }\n        else if (this.pending === false && this.id != null) {\n            this.id = this.recycleAsyncId(this.scheduler, this.id, null);\n        }\n    };\n    AsyncAction.prototype._execute = function (state, delay) {\n        var errored = false;\n        var errorValue = undefined;\n        try {\n            this.work(state);\n        }\n        catch (e) {\n            errored = true;\n            errorValue = !!e && e || new Error(e);\n        }\n        if (errored) {\n            this.unsubscribe();\n            return errorValue;\n        }\n    };\n    AsyncAction.prototype._unsubscribe = function () {\n        var id = this.id;\n        var scheduler = this.scheduler;\n        var actions = scheduler.actions;\n        var index = actions.indexOf(this);\n        this.work = null;\n        this.state = null;\n        this.pending = false;\n        this.scheduler = null;\n        if (index !== -1) {\n            actions.splice(index, 1);\n        }\n        if (id != null) {\n            this.id = this.recycleAsyncId(scheduler, id, null);\n        }\n        this.delay = null;\n    };\n    return AsyncAction;\n}(Action));\nexport { AsyncAction };\n//# sourceMappingURL=AsyncAction.js.map\n","/** PURE_IMPORTS_START tslib,_AsyncAction PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { AsyncAction } from './AsyncAction';\nvar QueueAction = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(QueueAction, _super);\n    function QueueAction(scheduler, work) {\n        var _this = _super.call(this, scheduler, work) || this;\n        _this.scheduler = scheduler;\n        _this.work = work;\n        return _this;\n    }\n    QueueAction.prototype.schedule = function (state, delay) {\n        if (delay === void 0) {\n            delay = 0;\n        }\n        if (delay > 0) {\n            return _super.prototype.schedule.call(this, state, delay);\n        }\n        this.delay = delay;\n        this.state = state;\n        this.scheduler.flush(this);\n        return this;\n    };\n    QueueAction.prototype.execute = function (state, delay) {\n        return (delay > 0 || this.closed) ?\n            _super.prototype.execute.call(this, state, delay) :\n            this._execute(state, delay);\n    };\n    QueueAction.prototype.requestAsyncId = function (scheduler, id, delay) {\n        if (delay === void 0) {\n            delay = 0;\n        }\n        if ((delay !== null && delay > 0) || (delay === null && this.delay > 0)) {\n            return _super.prototype.requestAsyncId.call(this, scheduler, id, delay);\n        }\n        return scheduler.flush(this);\n    };\n    return QueueAction;\n}(AsyncAction));\nexport { QueueAction };\n//# sourceMappingURL=QueueAction.js.map\n","var Scheduler = /*@__PURE__*/ (function () {\n    function Scheduler(SchedulerAction, now) {\n        if (now === void 0) {\n            now = Scheduler.now;\n        }\n        this.SchedulerAction = SchedulerAction;\n        this.now = now;\n    }\n    Scheduler.prototype.schedule = function (work, delay, state) {\n        if (delay === void 0) {\n            delay = 0;\n        }\n        return new this.SchedulerAction(this, work).schedule(state, delay);\n    };\n    Scheduler.now = function () { return Date.now(); };\n    return Scheduler;\n}());\nexport { Scheduler };\n//# sourceMappingURL=Scheduler.js.map\n","/** PURE_IMPORTS_START tslib,_Scheduler PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { Scheduler } from '../Scheduler';\nvar AsyncScheduler = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(AsyncScheduler, _super);\n    function AsyncScheduler(SchedulerAction, now) {\n        if (now === void 0) {\n            now = Scheduler.now;\n        }\n        var _this = _super.call(this, SchedulerAction, function () {\n            if (AsyncScheduler.delegate && AsyncScheduler.delegate !== _this) {\n                return AsyncScheduler.delegate.now();\n            }\n            else {\n                return now();\n            }\n        }) || this;\n        _this.actions = [];\n        _this.active = false;\n        _this.scheduled = undefined;\n        return _this;\n    }\n    AsyncScheduler.prototype.schedule = function (work, delay, state) {\n        if (delay === void 0) {\n            delay = 0;\n        }\n        if (AsyncScheduler.delegate && AsyncScheduler.delegate !== this) {\n            return AsyncScheduler.delegate.schedule(work, delay, state);\n        }\n        else {\n            return _super.prototype.schedule.call(this, work, delay, state);\n        }\n    };\n    AsyncScheduler.prototype.flush = function (action) {\n        var actions = this.actions;\n        if (this.active) {\n            actions.push(action);\n            return;\n        }\n        var error;\n        this.active = true;\n        do {\n            if (error = action.execute(action.state, action.delay)) {\n                break;\n            }\n        } while (action = actions.shift());\n        this.active = false;\n        if (error) {\n            while (action = actions.shift()) {\n                action.unsubscribe();\n            }\n            throw error;\n        }\n    };\n    return AsyncScheduler;\n}(Scheduler));\nexport { AsyncScheduler };\n//# sourceMappingURL=AsyncScheduler.js.map\n","/** PURE_IMPORTS_START _QueueAction,_QueueScheduler PURE_IMPORTS_END */\nimport { QueueAction } from './QueueAction';\nimport { QueueScheduler } from './QueueScheduler';\nexport var queue = /*@__PURE__*/ new QueueScheduler(QueueAction);\n//# sourceMappingURL=queue.js.map\n","/** PURE_IMPORTS_START tslib,_AsyncScheduler PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { AsyncScheduler } from './AsyncScheduler';\nvar QueueScheduler = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(QueueScheduler, _super);\n    function QueueScheduler() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    return QueueScheduler;\n}(AsyncScheduler));\nexport { QueueScheduler };\n//# sourceMappingURL=QueueScheduler.js.map\n","/** PURE_IMPORTS_START _Observable PURE_IMPORTS_END */\nimport { Observable } from '../Observable';\nexport var EMPTY = /*@__PURE__*/ new Observable(function (subscriber) { return subscriber.complete(); });\nexport function empty(scheduler) {\n    return scheduler ? emptyScheduled(scheduler) : EMPTY;\n}\nfunction emptyScheduled(scheduler) {\n    return new Observable(function (subscriber) { return scheduler.schedule(function () { return subscriber.complete(); }); });\n}\n//# sourceMappingURL=empty.js.map\n","/** PURE_IMPORTS_START _Observable PURE_IMPORTS_END */\nimport { Observable } from '../Observable';\nexport function throwError(error, scheduler) {\n    if (!scheduler) {\n        return new Observable(function (subscriber) { return subscriber.error(error); });\n    }\n    else {\n        return new Observable(function (subscriber) { return scheduler.schedule(dispatch, 0, { error: error, subscriber: subscriber }); });\n    }\n}\nfunction dispatch(_a) {\n    var error = _a.error, subscriber = _a.subscriber;\n    subscriber.error(error);\n}\n//# sourceMappingURL=throwError.js.map\n","/** PURE_IMPORTS_START tslib,_Subscriber,_Notification PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { Subscriber } from '../Subscriber';\nimport { Notification } from '../Notification';\nexport function observeOn(scheduler, delay) {\n    if (delay === void 0) {\n        delay = 0;\n    }\n    return function observeOnOperatorFunction(source) {\n        return source.lift(new ObserveOnOperator(scheduler, delay));\n    };\n}\nvar ObserveOnOperator = /*@__PURE__*/ (function () {\n    function ObserveOnOperator(scheduler, delay) {\n        if (delay === void 0) {\n            delay = 0;\n        }\n        this.scheduler = scheduler;\n        this.delay = delay;\n    }\n    ObserveOnOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new ObserveOnSubscriber(subscriber, this.scheduler, this.delay));\n    };\n    return ObserveOnOperator;\n}());\nexport { ObserveOnOperator };\nvar ObserveOnSubscriber = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(ObserveOnSubscriber, _super);\n    function ObserveOnSubscriber(destination, scheduler, delay) {\n        if (delay === void 0) {\n            delay = 0;\n        }\n        var _this = _super.call(this, destination) || this;\n        _this.scheduler = scheduler;\n        _this.delay = delay;\n        return _this;\n    }\n    ObserveOnSubscriber.dispatch = function (arg) {\n        var notification = arg.notification, destination = arg.destination;\n        notification.observe(destination);\n        this.unsubscribe();\n    };\n    ObserveOnSubscriber.prototype.scheduleMessage = function (notification) {\n        var destination = this.destination;\n        destination.add(this.scheduler.schedule(ObserveOnSubscriber.dispatch, this.delay, new ObserveOnMessage(notification, this.destination)));\n    };\n    ObserveOnSubscriber.prototype._next = function (value) {\n        this.scheduleMessage(Notification.createNext(value));\n    };\n    ObserveOnSubscriber.prototype._error = function (err) {\n        this.scheduleMessage(Notification.createError(err));\n        this.unsubscribe();\n    };\n    ObserveOnSubscriber.prototype._complete = function () {\n        this.scheduleMessage(Notification.createComplete());\n        this.unsubscribe();\n    };\n    return ObserveOnSubscriber;\n}(Subscriber));\nexport { ObserveOnSubscriber };\nvar ObserveOnMessage = /*@__PURE__*/ (function () {\n    function ObserveOnMessage(notification, destination) {\n        this.notification = notification;\n        this.destination = destination;\n    }\n    return ObserveOnMessage;\n}());\nexport { ObserveOnMessage };\n//# sourceMappingURL=observeOn.js.map\n","/** PURE_IMPORTS_START tslib,_Subject,_scheduler_queue,_Subscription,_operators_observeOn,_util_ObjectUnsubscribedError,_SubjectSubscription PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { Subject } from './Subject';\nimport { queue } from './scheduler/queue';\nimport { Subscription } from './Subscription';\nimport { ObserveOnSubscriber } from './operators/observeOn';\nimport { ObjectUnsubscribedError } from './util/ObjectUnsubscribedError';\nimport { SubjectSubscription } from './SubjectSubscription';\nvar ReplaySubject = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(ReplaySubject, _super);\n    function ReplaySubject(bufferSize, windowTime, scheduler) {\n        if (bufferSize === void 0) {\n            bufferSize = Number.POSITIVE_INFINITY;\n        }\n        if (windowTime === void 0) {\n            windowTime = Number.POSITIVE_INFINITY;\n        }\n        var _this = _super.call(this) || this;\n        _this.scheduler = scheduler;\n        _this._events = [];\n        _this._infiniteTimeWindow = false;\n        _this._bufferSize = bufferSize < 1 ? 1 : bufferSize;\n        _this._windowTime = windowTime < 1 ? 1 : windowTime;\n        if (windowTime === Number.POSITIVE_INFINITY) {\n            _this._infiniteTimeWindow = true;\n            _this.next = _this.nextInfiniteTimeWindow;\n        }\n        else {\n            _this.next = _this.nextTimeWindow;\n        }\n        return _this;\n    }\n    ReplaySubject.prototype.nextInfiniteTimeWindow = function (value) {\n        var _events = this._events;\n        _events.push(value);\n        if (_events.length > this._bufferSize) {\n            _events.shift();\n        }\n        _super.prototype.next.call(this, value);\n    };\n    ReplaySubject.prototype.nextTimeWindow = function (value) {\n        this._events.push(new ReplayEvent(this._getNow(), value));\n        this._trimBufferThenGetEvents();\n        _super.prototype.next.call(this, value);\n    };\n    ReplaySubject.prototype._subscribe = function (subscriber) {\n        var _infiniteTimeWindow = this._infiniteTimeWindow;\n        var _events = _infiniteTimeWindow ? this._events : this._trimBufferThenGetEvents();\n        var scheduler = this.scheduler;\n        var len = _events.length;\n        var subscription;\n        if (this.closed) {\n            throw new ObjectUnsubscribedError();\n        }\n        else if (this.isStopped || this.hasError) {\n            subscription = Subscription.EMPTY;\n        }\n        else {\n            this.observers.push(subscriber);\n            subscription = new SubjectSubscription(this, subscriber);\n        }\n        if (scheduler) {\n            subscriber.add(subscriber = new ObserveOnSubscriber(subscriber, scheduler));\n        }\n        if (_infiniteTimeWindow) {\n            for (var i = 0; i < len && !subscriber.closed; i++) {\n                subscriber.next(_events[i]);\n            }\n        }\n        else {\n            for (var i = 0; i < len && !subscriber.closed; i++) {\n                subscriber.next(_events[i].value);\n            }\n        }\n        if (this.hasError) {\n            subscriber.error(this.thrownError);\n        }\n        else if (this.isStopped) {\n            subscriber.complete();\n        }\n        return subscription;\n    };\n    ReplaySubject.prototype._getNow = function () {\n        return (this.scheduler || queue).now();\n    };\n    ReplaySubject.prototype._trimBufferThenGetEvents = function () {\n        var now = this._getNow();\n        var _bufferSize = this._bufferSize;\n        var _windowTime = this._windowTime;\n        var _events = this._events;\n        var eventsCount = _events.length;\n        var spliceCount = 0;\n        while (spliceCount < eventsCount) {\n            if ((now - _events[spliceCount].time) < _windowTime) {\n                break;\n            }\n            spliceCount++;\n        }\n        if (eventsCount > _bufferSize) {\n            spliceCount = Math.max(spliceCount, eventsCount - _bufferSize);\n        }\n        if (spliceCount > 0) {\n            _events.splice(0, spliceCount);\n        }\n        return _events;\n    };\n    return ReplaySubject;\n}(Subject));\nexport { ReplaySubject };\nvar ReplayEvent = /*@__PURE__*/ (function () {\n    function ReplayEvent(time, value) {\n        this.time = time;\n        this.value = value;\n    }\n    return ReplayEvent;\n}());\n//# sourceMappingURL=ReplaySubject.js.map\n"],"names":["NotificationKind","AsyncAction","_super","scheduler","work","_this","call","this","pending","tslib_1.__extends","prototype","schedule","state","delay","closed","id","recycleAsyncId","requestAsyncId","setInterval","flush","bind","clearInterval","execute","Error","error","_execute","errored","errorValue","undefined","e","unsubscribe","_unsubscribe","actions","index","indexOf","splice","Action","Subscription","QueueAction","Scheduler","SchedulerAction","now","Date","AsyncScheduler","delegate","active","scheduled","action","push","shift","queue","QueueScheduler","apply","arguments","EMPTY","Observable","subscriber","complete","empty","emptyScheduled","throwError","dispatch","_a","Notification","kind","value","hasValue","observe","observer","next","do","accept","nextOrObserver","toObservable","of","createNext","undefinedValueNotification","createError","err","createComplete","completeNotification","observeOn","source","lift","ObserveOnOperator","subscribe","ObserveOnSubscriber","destination","arg","notification","scheduleMessage","add","ObserveOnMessage","_next","_error","_complete","Subscriber","ReplaySubject","bufferSize","windowTime","Number","POSITIVE_INFINITY","_events","_infiniteTimeWindow","_bufferSize","_windowTime","nextInfiniteTimeWindow","nextTimeWindow","length","ReplayEvent","_getNow","_trimBufferThenGetEvents","_subscribe","subscription","len","ObjectUnsubscribedError","isStopped","hasError","observers","SubjectSubscription","i","thrownError","eventsCount","spliceCount","time","Math","max","Subject"],"mappings":"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"}