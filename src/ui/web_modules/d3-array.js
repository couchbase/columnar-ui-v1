function t(t,r){return t<r?-1:t>r?1:t>=r?0:NaN}function r(r){var n;return 1===r.length&&(n=r,r=function(r,o){return t(n(r),o)}),{left:function(t,n,o,e){for(null==o&&(o=0),null==e&&(e=t.length);o<e;){var f=o+e>>>1;r(t[f],n)<0?o=f+1:e=f}return o},right:function(t,n,o,e){for(null==o&&(o=0),null==e&&(e=t.length);o<e;){var f=o+e>>>1;r(t[f],n)>0?e=f:o=f+1}return o}}}var n=r(t),o=n.right,e=n.left;function f(t,r){let n=0;if(void 0===r)for(let r of t)null!=r&&(r=+r)>=r&&++n;else{let o=-1;for(let e of t)null!=(e=r(e,++o,t))&&(e=+e)>=e&&++n}return n}function u(t){return 0|t.length}function l(t){return!(t>0)}function i(t){return"object"!=typeof t||"length"in t?t:Array.from(t)}function a(...t){const r="function"==typeof t[t.length-1]&&function(t){return r=>t(...r)}(t.pop()),n=(t=t.map(i)).map(u),o=t.length-1,e=new Array(o+1).fill(0),f=[];if(o<0||n.some(l))return f;for(;;){f.push(e.map((r,n)=>t[n][r]));let u=o;for(;++e[u]===n[u];){if(0===u)return r?f.map(r):f;e[u--]=0}}}function c(t,r){var n=0,o=0;return Float64Array.from(t,void 0===r?t=>n+=+t||0:e=>n+=+r(e,o++,t)||0)}function h(t,r){return r<t?-1:r>t?1:r>=t?0:NaN}function s(t,r){let n,o=0,e=0,f=0;if(void 0===r)for(let r of t)null!=r&&(r=+r)>=r&&(n=r-e,e+=n/++o,f+=n*(r-e));else{let u=-1;for(let l of t)null!=(l=r(l,++u,t))&&(l=+l)>=l&&(n=l-e,e+=n/++o,f+=n*(l-e))}if(o>1)return f/(o-1)}function v(t,r){const n=s(t,r);return n?Math.sqrt(n):n}function M(t,r){let n,o;if(void 0===r)for(const r of t)null!=r&&(void 0===n?r>=r&&(n=o=r):(n>r&&(n=r),o<r&&(o=r)));else{let e=-1;for(let f of t)null!=(f=r(f,++e,t))&&(void 0===n?f>=f&&(n=o=f):(n>f&&(n=f),o<f&&(o=f)))}return[n,o]}function g(t){return t}function y(t,...r){return m(t,g,g,r)}function d(t,...r){return m(t,Array.from,g,r)}function p(t,r,...n){return m(t,g,r,n)}function A(t,r,...n){return m(t,Array.from,r,n)}function m(t,r,n,o){return function t(e,f){if(f>=o.length)return n(e);const u=new Map,l=o[f++];let i=-1;for(const t of e){const r=l(t,++i,e),n=u.get(r);n?n.push(t):u.set(r,[t])}for(const[r,n]of u)u.set(r,t(n,f));return r(u)}(t,0)}var w=Array.prototype.slice;function N(t){return function(){return t}}function x(t,r,n){t=+t,r=+r,n=(e=arguments.length)<2?(r=t,t=0,1):e<3?1:+n;for(var o=-1,e=0|Math.max(0,Math.ceil((r-t)/n)),f=new Array(e);++o<e;)f[o]=t+o*n;return f}var b=Math.sqrt(50),q=Math.sqrt(10),F=Math.sqrt(2);function L(t,r,n){var o,e,f,u,l=-1;if(n=+n,(t=+t)===(r=+r)&&n>0)return[t];if((o=r<t)&&(e=t,t=r,r=e),0===(u=S(t,r,n))||!isFinite(u))return[];if(u>0)for(t=Math.ceil(t/u),r=Math.floor(r/u),f=new Array(e=Math.ceil(r-t+1));++l<e;)f[l]=(t+l)*u;else for(t=Math.floor(t*u),r=Math.ceil(r*u),f=new Array(e=Math.ceil(t-r+1));++l<e;)f[l]=(t-l)/u;return o&&f.reverse(),f}function S(t,r,n){var o=(r-t)/Math.max(0,n),e=Math.floor(Math.log(o)/Math.LN10),f=o/Math.pow(10,e);return e>=0?(f>=b?10:f>=q?5:f>=F?2:1)*Math.pow(10,e):-Math.pow(10,-e)/(f>=b?10:f>=q?5:f>=F?2:1)}function j(t,r,n){var o=Math.abs(r-t)/Math.max(0,n),e=Math.pow(10,Math.floor(Math.log(o)/Math.LN10)),f=o/e;return f>=b?e*=10:f>=q?e*=5:f>=F&&(e*=2),r<t?-e:e}function D(t){return Math.ceil(Math.log(f(t))/Math.LN2)+1}function k(){var t=g,r=M,n=D;function e(e){Array.isArray(e)||(e=Array.from(e));var f,u,l=e.length,i=new Array(l);for(f=0;f<l;++f)i[f]=t(e[f],f,e);var a=r(i),c=a[0],h=a[1],s=n(i,c,h);Array.isArray(s)||(s=j(c,h,s),s=x(Math.ceil(c/s)*s,h,s));for(var v=s.length;s[0]<=c;)s.shift(),--v;for(;s[v-1]>h;)s.pop(),--v;var M,g=new Array(v+1);for(f=0;f<=v;++f)(M=g[f]=[]).x0=f>0?s[f-1]:c,M.x1=f<v?s[f]:h;for(f=0;f<l;++f)c<=(u=i[f])&&u<=h&&g[o(s,u,0,v)].push(e[f]);return g}return e.value=function(r){return arguments.length?(t="function"==typeof r?r:N(r),e):t},e.domain=function(t){return arguments.length?(r="function"==typeof t?t:N([t[0],t[1]]),e):r},e.thresholds=function(t){return arguments.length?(n="function"==typeof t?t:Array.isArray(t)?N(w.call(t)):N(t),e):n},e}function z(t,r){let n;if(void 0===r)for(const r of t)null!=r&&(n<r||void 0===n&&r>=r)&&(n=r);else{let o=-1;for(let e of t)null!=(e=r(e,++o,t))&&(n<e||void 0===n&&e>=e)&&(n=e)}return n}function B(t,r){let n;if(void 0===r)for(const r of t)null!=r&&(n>r||void 0===n&&r>=r)&&(n=r);else{let o=-1;for(let e of t)null!=(e=r(e,++o,t))&&(n>e||void 0===n&&e>=e)&&(n=e)}return n}function C(r,n,o=0,e=r.length-1,f=t){for(;e>o;){if(e-o>600){const t=e-o+1,u=n-o+1,l=Math.log(t),i=.5*Math.exp(2*l/3),a=.5*Math.sqrt(l*i*(t-i)/t)*(u-t/2<0?-1:1);C(r,n,Math.max(o,Math.floor(n-u*i/t+a)),Math.min(e,Math.floor(n+(t-u)*i/t+a)),f)}const t=r[n];let u=o,l=e;for(E(r,o,n),f(r[e],t)>0&&E(r,o,e);u<l;){for(E(r,u,l),++u,--l;f(r[u],t)<0;)++u;for(;f(r[l],t)>0;)--l}0===f(r[o],t)?E(r,o,l):(++l,E(r,l,e)),l<=n&&(o=l+1),n<=l&&(e=l-1)}return r}function E(t,r,n){const o=t[r];t[r]=t[n],t[n]=o}function G(t){return null===t?NaN:+t}function H(t,r,n){if(o=(t=Float64Array.from(function*(t,r){if(void 0===r)for(let r of t)null!=r&&(r=+r)>=r&&(yield r);else{let n=-1;for(let o of t)null!=(o=r(o,++n,t))&&(o=+o)>=o&&(yield o)}}(t,n))).length){if((r=+r)<=0||o<2)return B(t);if(r>=1)return z(t);var o,e=(o-1)*r,f=Math.floor(e),u=z(C(t,f).subarray(0,f+1));return u+(B(t.subarray(f+1))-u)*(e-f)}}function I(t,r,n=G){if(o=t.length){if((r=+r)<=0||o<2)return+n(t[0],0,t);if(r>=1)return+n(t[o-1],o-1,t);var o,e=(o-1)*r,f=Math.floor(e),u=+n(t[f],f,t);return u+(+n(t[f+1],f+1,t)-u)*(e-f)}}function J(t,r,n){return Math.ceil((n-r)/(2*(H(t,.75)-H(t,.25))*Math.pow(f(t),-1/3)))}function K(t,r,n){return Math.ceil((n-r)/(3.5*v(t)*Math.pow(f(t),-1/3)))}function O(t,r){let n,o=-1,e=-1;if(void 0===r)for(const r of t)++e,null!=r&&(n<r||void 0===n&&r>=r)&&(n=r,o=e);else for(let f of t)null!=(f=r(f,++e,t))&&(n<f||void 0===n&&f>=f)&&(n=f,o=e);return o}function P(t,r){let n=0,o=0;if(void 0===r)for(let r of t)null!=r&&(r=+r)>=r&&(++n,o+=r);else{let e=-1;for(let f of t)null!=(f=r(f,++e,t))&&(f=+f)>=f&&(++n,o+=f)}if(n)return o/n}function Q(t,r){return H(t,.5,r)}function R(t){return Array.from(function*(t){for(const r of t)yield*r}(t))}function T(t,r){let n,o=-1,e=-1;if(void 0===r)for(const r of t)++e,null!=r&&(n>r||void 0===n&&r>=r)&&(n=r,o=e);else for(let f of t)null!=(f=r(f,++e,t))&&(n>f||void 0===n&&f>=f)&&(n=f,o=e);return o}function U(t,r=V){const n=[];let o,e=!1;for(const f of t)e&&n.push(r(o,f)),o=f,e=!0;return n}function V(t,r){return[t,r]}function W(t,r){return Array.from(r,r=>t[r])}function X(r,n=t){let o,e=!1;if(1===n.length){let f;for(const u of r){const r=n(u);(e?t(r,f)<0:0===t(r,r))&&(o=u,f=r,e=!0)}}else for(const t of r)(e?n(t,o)<0:0===n(t,t))&&(o=t,e=!0);return o}function Y(r,n=t){if(1===n.length)return T(r,n);let o,e=-1,f=-1;for(const t of r)++f,(e<0?0===n(t,t):n(t,o)<0)&&(o=t,e=f);return e}function Z(r,n=t){let o,e=!1;if(1===n.length){let f;for(const u of r){const r=n(u);(e?t(r,f)>0:0===t(r,r))&&(o=u,f=r,e=!0)}}else for(const t of r)(e?n(t,o)>0:0===n(t,t))&&(o=t,e=!0);return o}function $(r,n=t){if(1===n.length)return O(r,n);let o,e=-1,f=-1;for(const t of r)++f,(e<0?0===n(t,t):n(t,o)>0)&&(o=t,e=f);return e}function _(t,r){const n=Y(t,r);return n<0?void 0:n}function tt(t,r=0,n=t.length){for(var o,e,f=n-(r=+r);f;)e=Math.random()*f--|0,o=t[f+r],t[f+r]=t[e+r],t[e+r]=o;return t}function rt(t,r){let n=0;if(void 0===r)for(let r of t)(r=+r)&&(n+=r);else{let o=-1;for(let e of t)(e=+r(e,++o,t))&&(n+=e)}return n}function nt(t){if(!(e=t.length))return[];for(var r=-1,n=B(t,ot),o=new Array(n);++r<n;)for(var e,f=-1,u=o[r]=new Array(e);++f<e;)u[f]=t[f][r];return o}function ot(t){return t.length}function et(){return nt(arguments)}export{t as ascending,k as bin,o as bisect,e as bisectLeft,o as bisectRight,r as bisector,f as count,a as cross,c as cumsum,h as descending,v as deviation,M as extent,Z as greatest,$ as greatestIndex,y as group,d as groups,k as histogram,X as least,Y as leastIndex,z as max,O as maxIndex,P as mean,Q as median,R as merge,B as min,T as minIndex,U as pairs,W as permute,H as quantile,I as quantileSorted,C as quickselect,x as range,p as rollup,A as rollups,_ as scan,tt as shuffle,rt as sum,J as thresholdFreedmanDiaconis,K as thresholdScott,D as thresholdSturges,S as tickIncrement,j as tickStep,L as ticks,nt as transpose,s as variance,et as zip};
//# sourceMappingURL=d3-array.js.map
