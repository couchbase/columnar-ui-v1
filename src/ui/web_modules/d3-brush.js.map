{"version":3,"file":"d3-brush.js","sources":["../node_modules/d3-dispatch/src/dispatch.js","../node_modules/d3-drag/src/noevent.js","../node_modules/d3-drag/src/nodrag.js","../node_modules/d3-timer/src/timer.js","../node_modules/d3-timer/src/timeout.js","../node_modules/d3-transition/src/transition/schedule.js","../node_modules/d3-transition/src/interrupt.js","../node_modules/d3-transition/src/transition/tween.js","../node_modules/d3-transition/src/transition/interpolate.js","../node_modules/d3-transition/src/transition/attr.js","../node_modules/d3-transition/src/transition/attrTween.js","../node_modules/d3-transition/src/transition/delay.js","../node_modules/d3-transition/src/transition/duration.js","../node_modules/d3-transition/src/transition/ease.js","../node_modules/d3-transition/src/transition/on.js","../node_modules/d3-transition/src/transition/selection.js","../node_modules/d3-transition/src/transition/style.js","../node_modules/d3-transition/src/transition/styleTween.js","../node_modules/d3-transition/src/transition/textTween.js","../node_modules/d3-transition/src/transition/index.js","../node_modules/d3-transition/src/transition/select.js","../node_modules/d3-transition/src/transition/selectAll.js","../node_modules/d3-transition/src/transition/filter.js","../node_modules/d3-transition/src/transition/merge.js","../node_modules/d3-transition/src/transition/transition.js","../node_modules/d3-transition/src/transition/text.js","../node_modules/d3-transition/src/transition/remove.js","../node_modules/d3-transition/src/transition/end.js","../node_modules/d3-transition/src/selection/transition.js","../node_modules/d3-ease/src/cubic.js","../node_modules/d3-brush/src/constant.js","../node_modules/d3-brush/src/event.js","../node_modules/d3-brush/src/noevent.js","../node_modules/d3-transition/src/selection/index.js","../node_modules/d3-transition/src/selection/interrupt.js","../node_modules/d3-brush/src/brush.js"],"sourcesContent":["var noop = {value: function() {}};\n\nfunction dispatch() {\n  for (var i = 0, n = arguments.length, _ = {}, t; i < n; ++i) {\n    if (!(t = arguments[i] + \"\") || (t in _) || /[\\s.]/.test(t)) throw new Error(\"illegal type: \" + t);\n    _[t] = [];\n  }\n  return new Dispatch(_);\n}\n\nfunction Dispatch(_) {\n  this._ = _;\n}\n\nfunction parseTypenames(typenames, types) {\n  return typenames.trim().split(/^|\\s+/).map(function(t) {\n    var name = \"\", i = t.indexOf(\".\");\n    if (i >= 0) name = t.slice(i + 1), t = t.slice(0, i);\n    if (t && !types.hasOwnProperty(t)) throw new Error(\"unknown type: \" + t);\n    return {type: t, name: name};\n  });\n}\n\nDispatch.prototype = dispatch.prototype = {\n  constructor: Dispatch,\n  on: function(typename, callback) {\n    var _ = this._,\n        T = parseTypenames(typename + \"\", _),\n        t,\n        i = -1,\n        n = T.length;\n\n    // If no callback was specified, return the callback of the given type and name.\n    if (arguments.length < 2) {\n      while (++i < n) if ((t = (typename = T[i]).type) && (t = get(_[t], typename.name))) return t;\n      return;\n    }\n\n    // If a type was specified, set the callback for the given type and name.\n    // Otherwise, if a null callback was specified, remove callbacks of the given name.\n    if (callback != null && typeof callback !== \"function\") throw new Error(\"invalid callback: \" + callback);\n    while (++i < n) {\n      if (t = (typename = T[i]).type) _[t] = set(_[t], typename.name, callback);\n      else if (callback == null) for (t in _) _[t] = set(_[t], typename.name, null);\n    }\n\n    return this;\n  },\n  copy: function() {\n    var copy = {}, _ = this._;\n    for (var t in _) copy[t] = _[t].slice();\n    return new Dispatch(copy);\n  },\n  call: function(type, that) {\n    if ((n = arguments.length - 2) > 0) for (var args = new Array(n), i = 0, n, t; i < n; ++i) args[i] = arguments[i + 2];\n    if (!this._.hasOwnProperty(type)) throw new Error(\"unknown type: \" + type);\n    for (t = this._[type], i = 0, n = t.length; i < n; ++i) t[i].value.apply(that, args);\n  },\n  apply: function(type, that, args) {\n    if (!this._.hasOwnProperty(type)) throw new Error(\"unknown type: \" + type);\n    for (var t = this._[type], i = 0, n = t.length; i < n; ++i) t[i].value.apply(that, args);\n  }\n};\n\nfunction get(type, name) {\n  for (var i = 0, n = type.length, c; i < n; ++i) {\n    if ((c = type[i]).name === name) {\n      return c.value;\n    }\n  }\n}\n\nfunction set(type, name, callback) {\n  for (var i = 0, n = type.length; i < n; ++i) {\n    if (type[i].name === name) {\n      type[i] = noop, type = type.slice(0, i).concat(type.slice(i + 1));\n      break;\n    }\n  }\n  if (callback != null) type.push({name: name, value: callback});\n  return type;\n}\n\nexport default dispatch;\n","import {event} from \"d3-selection\";\n\nexport function nopropagation() {\n  event.stopImmediatePropagation();\n}\n\nexport default function() {\n  event.preventDefault();\n  event.stopImmediatePropagation();\n}\n","import {select} from \"d3-selection\";\nimport noevent from \"./noevent.js\";\n\nexport default function(view) {\n  var root = view.document.documentElement,\n      selection = select(view).on(\"dragstart.drag\", noevent, true);\n  if (\"onselectstart\" in root) {\n    selection.on(\"selectstart.drag\", noevent, true);\n  } else {\n    root.__noselect = root.style.MozUserSelect;\n    root.style.MozUserSelect = \"none\";\n  }\n}\n\nexport function yesdrag(view, noclick) {\n  var root = view.document.documentElement,\n      selection = select(view).on(\"dragstart.drag\", null);\n  if (noclick) {\n    selection.on(\"click.drag\", noevent, true);\n    setTimeout(function() { selection.on(\"click.drag\", null); }, 0);\n  }\n  if (\"onselectstart\" in root) {\n    selection.on(\"selectstart.drag\", null);\n  } else {\n    root.style.MozUserSelect = root.__noselect;\n    delete root.__noselect;\n  }\n}\n","var frame = 0, // is an animation frame pending?\n    timeout = 0, // is a timeout pending?\n    interval = 0, // are any timers active?\n    pokeDelay = 1000, // how frequently we check for clock skew\n    taskHead,\n    taskTail,\n    clockLast = 0,\n    clockNow = 0,\n    clockSkew = 0,\n    clock = typeof performance === \"object\" && performance.now ? performance : Date,\n    setFrame = typeof window === \"object\" && window.requestAnimationFrame ? window.requestAnimationFrame.bind(window) : function(f) { setTimeout(f, 17); };\n\nexport function now() {\n  return clockNow || (setFrame(clearNow), clockNow = clock.now() + clockSkew);\n}\n\nfunction clearNow() {\n  clockNow = 0;\n}\n\nexport function Timer() {\n  this._call =\n  this._time =\n  this._next = null;\n}\n\nTimer.prototype = timer.prototype = {\n  constructor: Timer,\n  restart: function(callback, delay, time) {\n    if (typeof callback !== \"function\") throw new TypeError(\"callback is not a function\");\n    time = (time == null ? now() : +time) + (delay == null ? 0 : +delay);\n    if (!this._next && taskTail !== this) {\n      if (taskTail) taskTail._next = this;\n      else taskHead = this;\n      taskTail = this;\n    }\n    this._call = callback;\n    this._time = time;\n    sleep();\n  },\n  stop: function() {\n    if (this._call) {\n      this._call = null;\n      this._time = Infinity;\n      sleep();\n    }\n  }\n};\n\nexport function timer(callback, delay, time) {\n  var t = new Timer;\n  t.restart(callback, delay, time);\n  return t;\n}\n\nexport function timerFlush() {\n  now(); // Get the current time, if not already set.\n  ++frame; // Pretend we’ve set an alarm, if we haven’t already.\n  var t = taskHead, e;\n  while (t) {\n    if ((e = clockNow - t._time) >= 0) t._call.call(null, e);\n    t = t._next;\n  }\n  --frame;\n}\n\nfunction wake() {\n  clockNow = (clockLast = clock.now()) + clockSkew;\n  frame = timeout = 0;\n  try {\n    timerFlush();\n  } finally {\n    frame = 0;\n    nap();\n    clockNow = 0;\n  }\n}\n\nfunction poke() {\n  var now = clock.now(), delay = now - clockLast;\n  if (delay > pokeDelay) clockSkew -= delay, clockLast = now;\n}\n\nfunction nap() {\n  var t0, t1 = taskHead, t2, time = Infinity;\n  while (t1) {\n    if (t1._call) {\n      if (time > t1._time) time = t1._time;\n      t0 = t1, t1 = t1._next;\n    } else {\n      t2 = t1._next, t1._next = null;\n      t1 = t0 ? t0._next = t2 : taskHead = t2;\n    }\n  }\n  taskTail = t0;\n  sleep(time);\n}\n\nfunction sleep(time) {\n  if (frame) return; // Soonest alarm already set, or will be.\n  if (timeout) timeout = clearTimeout(timeout);\n  var delay = time - clockNow; // Strictly less than if we recomputed clockNow.\n  if (delay > 24) {\n    if (time < Infinity) timeout = setTimeout(wake, time - clock.now() - clockSkew);\n    if (interval) interval = clearInterval(interval);\n  } else {\n    if (!interval) clockLast = clock.now(), interval = setInterval(poke, pokeDelay);\n    frame = 1, setFrame(wake);\n  }\n}\n","import {Timer} from \"./timer.js\";\n\nexport default function(callback, delay, time) {\n  var t = new Timer;\n  delay = delay == null ? 0 : +delay;\n  t.restart(function(elapsed) {\n    t.stop();\n    callback(elapsed + delay);\n  }, delay, time);\n  return t;\n}\n","import {dispatch} from \"d3-dispatch\";\nimport {timer, timeout} from \"d3-timer\";\n\nvar emptyOn = dispatch(\"start\", \"end\", \"cancel\", \"interrupt\");\nvar emptyTween = [];\n\nexport var CREATED = 0;\nexport var SCHEDULED = 1;\nexport var STARTING = 2;\nexport var STARTED = 3;\nexport var RUNNING = 4;\nexport var ENDING = 5;\nexport var ENDED = 6;\n\nexport default function(node, name, id, index, group, timing) {\n  var schedules = node.__transition;\n  if (!schedules) node.__transition = {};\n  else if (id in schedules) return;\n  create(node, id, {\n    name: name,\n    index: index, // For context during callback.\n    group: group, // For context during callback.\n    on: emptyOn,\n    tween: emptyTween,\n    time: timing.time,\n    delay: timing.delay,\n    duration: timing.duration,\n    ease: timing.ease,\n    timer: null,\n    state: CREATED\n  });\n}\n\nexport function init(node, id) {\n  var schedule = get(node, id);\n  if (schedule.state > CREATED) throw new Error(\"too late; already scheduled\");\n  return schedule;\n}\n\nexport function set(node, id) {\n  var schedule = get(node, id);\n  if (schedule.state > STARTED) throw new Error(\"too late; already running\");\n  return schedule;\n}\n\nexport function get(node, id) {\n  var schedule = node.__transition;\n  if (!schedule || !(schedule = schedule[id])) throw new Error(\"transition not found\");\n  return schedule;\n}\n\nfunction create(node, id, self) {\n  var schedules = node.__transition,\n      tween;\n\n  // Initialize the self timer when the transition is created.\n  // Note the actual delay is not known until the first callback!\n  schedules[id] = self;\n  self.timer = timer(schedule, 0, self.time);\n\n  function schedule(elapsed) {\n    self.state = SCHEDULED;\n    self.timer.restart(start, self.delay, self.time);\n\n    // If the elapsed delay is less than our first sleep, start immediately.\n    if (self.delay <= elapsed) start(elapsed - self.delay);\n  }\n\n  function start(elapsed) {\n    var i, j, n, o;\n\n    // If the state is not SCHEDULED, then we previously errored on start.\n    if (self.state !== SCHEDULED) return stop();\n\n    for (i in schedules) {\n      o = schedules[i];\n      if (o.name !== self.name) continue;\n\n      // While this element already has a starting transition during this frame,\n      // defer starting an interrupting transition until that transition has a\n      // chance to tick (and possibly end); see d3/d3-transition#54!\n      if (o.state === STARTED) return timeout(start);\n\n      // Interrupt the active transition, if any.\n      if (o.state === RUNNING) {\n        o.state = ENDED;\n        o.timer.stop();\n        o.on.call(\"interrupt\", node, node.__data__, o.index, o.group);\n        delete schedules[i];\n      }\n\n      // Cancel any pre-empted transitions.\n      else if (+i < id) {\n        o.state = ENDED;\n        o.timer.stop();\n        o.on.call(\"cancel\", node, node.__data__, o.index, o.group);\n        delete schedules[i];\n      }\n    }\n\n    // Defer the first tick to end of the current frame; see d3/d3#1576.\n    // Note the transition may be canceled after start and before the first tick!\n    // Note this must be scheduled before the start event; see d3/d3-transition#16!\n    // Assuming this is successful, subsequent callbacks go straight to tick.\n    timeout(function() {\n      if (self.state === STARTED) {\n        self.state = RUNNING;\n        self.timer.restart(tick, self.delay, self.time);\n        tick(elapsed);\n      }\n    });\n\n    // Dispatch the start event.\n    // Note this must be done before the tween are initialized.\n    self.state = STARTING;\n    self.on.call(\"start\", node, node.__data__, self.index, self.group);\n    if (self.state !== STARTING) return; // interrupted\n    self.state = STARTED;\n\n    // Initialize the tween, deleting null tween.\n    tween = new Array(n = self.tween.length);\n    for (i = 0, j = -1; i < n; ++i) {\n      if (o = self.tween[i].value.call(node, node.__data__, self.index, self.group)) {\n        tween[++j] = o;\n      }\n    }\n    tween.length = j + 1;\n  }\n\n  function tick(elapsed) {\n    var t = elapsed < self.duration ? self.ease.call(null, elapsed / self.duration) : (self.timer.restart(stop), self.state = ENDING, 1),\n        i = -1,\n        n = tween.length;\n\n    while (++i < n) {\n      tween[i].call(node, t);\n    }\n\n    // Dispatch the end event.\n    if (self.state === ENDING) {\n      self.on.call(\"end\", node, node.__data__, self.index, self.group);\n      stop();\n    }\n  }\n\n  function stop() {\n    self.state = ENDED;\n    self.timer.stop();\n    delete schedules[id];\n    for (var i in schedules) return; // eslint-disable-line no-unused-vars\n    delete node.__transition;\n  }\n}\n","import {STARTING, ENDING, ENDED} from \"./transition/schedule.js\";\n\nexport default function(node, name) {\n  var schedules = node.__transition,\n      schedule,\n      active,\n      empty = true,\n      i;\n\n  if (!schedules) return;\n\n  name = name == null ? null : name + \"\";\n\n  for (i in schedules) {\n    if ((schedule = schedules[i]).name !== name) { empty = false; continue; }\n    active = schedule.state > STARTING && schedule.state < ENDING;\n    schedule.state = ENDED;\n    schedule.timer.stop();\n    schedule.on.call(active ? \"interrupt\" : \"cancel\", node, node.__data__, schedule.index, schedule.group);\n    delete schedules[i];\n  }\n\n  if (empty) delete node.__transition;\n}\n","import {get, set} from \"./schedule.js\";\n\nfunction tweenRemove(id, name) {\n  var tween0, tween1;\n  return function() {\n    var schedule = set(this, id),\n        tween = schedule.tween;\n\n    // If this node shared tween with the previous node,\n    // just assign the updated shared tween and we’re done!\n    // Otherwise, copy-on-write.\n    if (tween !== tween0) {\n      tween1 = tween0 = tween;\n      for (var i = 0, n = tween1.length; i < n; ++i) {\n        if (tween1[i].name === name) {\n          tween1 = tween1.slice();\n          tween1.splice(i, 1);\n          break;\n        }\n      }\n    }\n\n    schedule.tween = tween1;\n  };\n}\n\nfunction tweenFunction(id, name, value) {\n  var tween0, tween1;\n  if (typeof value !== \"function\") throw new Error;\n  return function() {\n    var schedule = set(this, id),\n        tween = schedule.tween;\n\n    // If this node shared tween with the previous node,\n    // just assign the updated shared tween and we’re done!\n    // Otherwise, copy-on-write.\n    if (tween !== tween0) {\n      tween1 = (tween0 = tween).slice();\n      for (var t = {name: name, value: value}, i = 0, n = tween1.length; i < n; ++i) {\n        if (tween1[i].name === name) {\n          tween1[i] = t;\n          break;\n        }\n      }\n      if (i === n) tween1.push(t);\n    }\n\n    schedule.tween = tween1;\n  };\n}\n\nexport default function(name, value) {\n  var id = this._id;\n\n  name += \"\";\n\n  if (arguments.length < 2) {\n    var tween = get(this.node(), id).tween;\n    for (var i = 0, n = tween.length, t; i < n; ++i) {\n      if ((t = tween[i]).name === name) {\n        return t.value;\n      }\n    }\n    return null;\n  }\n\n  return this.each((value == null ? tweenRemove : tweenFunction)(id, name, value));\n}\n\nexport function tweenValue(transition, name, value) {\n  var id = transition._id;\n\n  transition.each(function() {\n    var schedule = set(this, id);\n    (schedule.value || (schedule.value = {}))[name] = value.apply(this, arguments);\n  });\n\n  return function(node) {\n    return get(node, id).value[name];\n  };\n}\n","import {color} from \"d3-color\";\nimport {interpolateNumber, interpolateRgb, interpolateString} from \"d3-interpolate\";\n\nexport default function(a, b) {\n  var c;\n  return (typeof b === \"number\" ? interpolateNumber\n      : b instanceof color ? interpolateRgb\n      : (c = color(b)) ? (b = c, interpolateRgb)\n      : interpolateString)(a, b);\n}\n","import {interpolateTransformSvg as interpolateTransform} from \"d3-interpolate\";\nimport {namespace} from \"d3-selection\";\nimport {tweenValue} from \"./tween.js\";\nimport interpolate from \"./interpolate.js\";\n\nfunction attrRemove(name) {\n  return function() {\n    this.removeAttribute(name);\n  };\n}\n\nfunction attrRemoveNS(fullname) {\n  return function() {\n    this.removeAttributeNS(fullname.space, fullname.local);\n  };\n}\n\nfunction attrConstant(name, interpolate, value1) {\n  var string00,\n      string1 = value1 + \"\",\n      interpolate0;\n  return function() {\n    var string0 = this.getAttribute(name);\n    return string0 === string1 ? null\n        : string0 === string00 ? interpolate0\n        : interpolate0 = interpolate(string00 = string0, value1);\n  };\n}\n\nfunction attrConstantNS(fullname, interpolate, value1) {\n  var string00,\n      string1 = value1 + \"\",\n      interpolate0;\n  return function() {\n    var string0 = this.getAttributeNS(fullname.space, fullname.local);\n    return string0 === string1 ? null\n        : string0 === string00 ? interpolate0\n        : interpolate0 = interpolate(string00 = string0, value1);\n  };\n}\n\nfunction attrFunction(name, interpolate, value) {\n  var string00,\n      string10,\n      interpolate0;\n  return function() {\n    var string0, value1 = value(this), string1;\n    if (value1 == null) return void this.removeAttribute(name);\n    string0 = this.getAttribute(name);\n    string1 = value1 + \"\";\n    return string0 === string1 ? null\n        : string0 === string00 && string1 === string10 ? interpolate0\n        : (string10 = string1, interpolate0 = interpolate(string00 = string0, value1));\n  };\n}\n\nfunction attrFunctionNS(fullname, interpolate, value) {\n  var string00,\n      string10,\n      interpolate0;\n  return function() {\n    var string0, value1 = value(this), string1;\n    if (value1 == null) return void this.removeAttributeNS(fullname.space, fullname.local);\n    string0 = this.getAttributeNS(fullname.space, fullname.local);\n    string1 = value1 + \"\";\n    return string0 === string1 ? null\n        : string0 === string00 && string1 === string10 ? interpolate0\n        : (string10 = string1, interpolate0 = interpolate(string00 = string0, value1));\n  };\n}\n\nexport default function(name, value) {\n  var fullname = namespace(name), i = fullname === \"transform\" ? interpolateTransform : interpolate;\n  return this.attrTween(name, typeof value === \"function\"\n      ? (fullname.local ? attrFunctionNS : attrFunction)(fullname, i, tweenValue(this, \"attr.\" + name, value))\n      : value == null ? (fullname.local ? attrRemoveNS : attrRemove)(fullname)\n      : (fullname.local ? attrConstantNS : attrConstant)(fullname, i, value));\n}\n","import {namespace} from \"d3-selection\";\n\nfunction attrInterpolate(name, i) {\n  return function(t) {\n    this.setAttribute(name, i.call(this, t));\n  };\n}\n\nfunction attrInterpolateNS(fullname, i) {\n  return function(t) {\n    this.setAttributeNS(fullname.space, fullname.local, i.call(this, t));\n  };\n}\n\nfunction attrTweenNS(fullname, value) {\n  var t0, i0;\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0) t0 = (i0 = i) && attrInterpolateNS(fullname, i);\n    return t0;\n  }\n  tween._value = value;\n  return tween;\n}\n\nfunction attrTween(name, value) {\n  var t0, i0;\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0) t0 = (i0 = i) && attrInterpolate(name, i);\n    return t0;\n  }\n  tween._value = value;\n  return tween;\n}\n\nexport default function(name, value) {\n  var key = \"attr.\" + name;\n  if (arguments.length < 2) return (key = this.tween(key)) && key._value;\n  if (value == null) return this.tween(key, null);\n  if (typeof value !== \"function\") throw new Error;\n  var fullname = namespace(name);\n  return this.tween(key, (fullname.local ? attrTweenNS : attrTween)(fullname, value));\n}\n","import {get, init} from \"./schedule.js\";\n\nfunction delayFunction(id, value) {\n  return function() {\n    init(this, id).delay = +value.apply(this, arguments);\n  };\n}\n\nfunction delayConstant(id, value) {\n  return value = +value, function() {\n    init(this, id).delay = value;\n  };\n}\n\nexport default function(value) {\n  var id = this._id;\n\n  return arguments.length\n      ? this.each((typeof value === \"function\"\n          ? delayFunction\n          : delayConstant)(id, value))\n      : get(this.node(), id).delay;\n}\n","import {get, set} from \"./schedule.js\";\n\nfunction durationFunction(id, value) {\n  return function() {\n    set(this, id).duration = +value.apply(this, arguments);\n  };\n}\n\nfunction durationConstant(id, value) {\n  return value = +value, function() {\n    set(this, id).duration = value;\n  };\n}\n\nexport default function(value) {\n  var id = this._id;\n\n  return arguments.length\n      ? this.each((typeof value === \"function\"\n          ? durationFunction\n          : durationConstant)(id, value))\n      : get(this.node(), id).duration;\n}\n","import {get, set} from \"./schedule.js\";\n\nfunction easeConstant(id, value) {\n  if (typeof value !== \"function\") throw new Error;\n  return function() {\n    set(this, id).ease = value;\n  };\n}\n\nexport default function(value) {\n  var id = this._id;\n\n  return arguments.length\n      ? this.each(easeConstant(id, value))\n      : get(this.node(), id).ease;\n}\n","import {get, set, init} from \"./schedule.js\";\n\nfunction start(name) {\n  return (name + \"\").trim().split(/^|\\s+/).every(function(t) {\n    var i = t.indexOf(\".\");\n    if (i >= 0) t = t.slice(0, i);\n    return !t || t === \"start\";\n  });\n}\n\nfunction onFunction(id, name, listener) {\n  var on0, on1, sit = start(name) ? init : set;\n  return function() {\n    var schedule = sit(this, id),\n        on = schedule.on;\n\n    // If this node shared a dispatch with the previous node,\n    // just assign the updated shared dispatch and we’re done!\n    // Otherwise, copy-on-write.\n    if (on !== on0) (on1 = (on0 = on).copy()).on(name, listener);\n\n    schedule.on = on1;\n  };\n}\n\nexport default function(name, listener) {\n  var id = this._id;\n\n  return arguments.length < 2\n      ? get(this.node(), id).on.on(name)\n      : this.each(onFunction(id, name, listener));\n}\n","import {selection} from \"d3-selection\";\n\nvar Selection = selection.prototype.constructor;\n\nexport default function() {\n  return new Selection(this._groups, this._parents);\n}\n","import {interpolateTransformCss as interpolateTransform} from \"d3-interpolate\";\nimport {style} from \"d3-selection\";\nimport {set} from \"./schedule.js\";\nimport {tweenValue} from \"./tween.js\";\nimport interpolate from \"./interpolate.js\";\n\nfunction styleNull(name, interpolate) {\n  var string00,\n      string10,\n      interpolate0;\n  return function() {\n    var string0 = style(this, name),\n        string1 = (this.style.removeProperty(name), style(this, name));\n    return string0 === string1 ? null\n        : string0 === string00 && string1 === string10 ? interpolate0\n        : interpolate0 = interpolate(string00 = string0, string10 = string1);\n  };\n}\n\nfunction styleRemove(name) {\n  return function() {\n    this.style.removeProperty(name);\n  };\n}\n\nfunction styleConstant(name, interpolate, value1) {\n  var string00,\n      string1 = value1 + \"\",\n      interpolate0;\n  return function() {\n    var string0 = style(this, name);\n    return string0 === string1 ? null\n        : string0 === string00 ? interpolate0\n        : interpolate0 = interpolate(string00 = string0, value1);\n  };\n}\n\nfunction styleFunction(name, interpolate, value) {\n  var string00,\n      string10,\n      interpolate0;\n  return function() {\n    var string0 = style(this, name),\n        value1 = value(this),\n        string1 = value1 + \"\";\n    if (value1 == null) string1 = value1 = (this.style.removeProperty(name), style(this, name));\n    return string0 === string1 ? null\n        : string0 === string00 && string1 === string10 ? interpolate0\n        : (string10 = string1, interpolate0 = interpolate(string00 = string0, value1));\n  };\n}\n\nfunction styleMaybeRemove(id, name) {\n  var on0, on1, listener0, key = \"style.\" + name, event = \"end.\" + key, remove;\n  return function() {\n    var schedule = set(this, id),\n        on = schedule.on,\n        listener = schedule.value[key] == null ? remove || (remove = styleRemove(name)) : undefined;\n\n    // If this node shared a dispatch with the previous node,\n    // just assign the updated shared dispatch and we’re done!\n    // Otherwise, copy-on-write.\n    if (on !== on0 || listener0 !== listener) (on1 = (on0 = on).copy()).on(event, listener0 = listener);\n\n    schedule.on = on1;\n  };\n}\n\nexport default function(name, value, priority) {\n  var i = (name += \"\") === \"transform\" ? interpolateTransform : interpolate;\n  return value == null ? this\n      .styleTween(name, styleNull(name, i))\n      .on(\"end.style.\" + name, styleRemove(name))\n    : typeof value === \"function\" ? this\n      .styleTween(name, styleFunction(name, i, tweenValue(this, \"style.\" + name, value)))\n      .each(styleMaybeRemove(this._id, name))\n    : this\n      .styleTween(name, styleConstant(name, i, value), priority)\n      .on(\"end.style.\" + name, null);\n}\n","function styleInterpolate(name, i, priority) {\n  return function(t) {\n    this.style.setProperty(name, i.call(this, t), priority);\n  };\n}\n\nfunction styleTween(name, value, priority) {\n  var t, i0;\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0) t = (i0 = i) && styleInterpolate(name, i, priority);\n    return t;\n  }\n  tween._value = value;\n  return tween;\n}\n\nexport default function(name, value, priority) {\n  var key = \"style.\" + (name += \"\");\n  if (arguments.length < 2) return (key = this.tween(key)) && key._value;\n  if (value == null) return this.tween(key, null);\n  if (typeof value !== \"function\") throw new Error;\n  return this.tween(key, styleTween(name, value, priority == null ? \"\" : priority));\n}\n","function textInterpolate(i) {\n  return function(t) {\n    this.textContent = i.call(this, t);\n  };\n}\n\nfunction textTween(value) {\n  var t0, i0;\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0) t0 = (i0 = i) && textInterpolate(i);\n    return t0;\n  }\n  tween._value = value;\n  return tween;\n}\n\nexport default function(value) {\n  var key = \"text\";\n  if (arguments.length < 1) return (key = this.tween(key)) && key._value;\n  if (value == null) return this.tween(key, null);\n  if (typeof value !== \"function\") throw new Error;\n  return this.tween(key, textTween(value));\n}\n","import {selection} from \"d3-selection\";\nimport transition_attr from \"./attr.js\";\nimport transition_attrTween from \"./attrTween.js\";\nimport transition_delay from \"./delay.js\";\nimport transition_duration from \"./duration.js\";\nimport transition_ease from \"./ease.js\";\nimport transition_filter from \"./filter.js\";\nimport transition_merge from \"./merge.js\";\nimport transition_on from \"./on.js\";\nimport transition_remove from \"./remove.js\";\nimport transition_select from \"./select.js\";\nimport transition_selectAll from \"./selectAll.js\";\nimport transition_selection from \"./selection.js\";\nimport transition_style from \"./style.js\";\nimport transition_styleTween from \"./styleTween.js\";\nimport transition_text from \"./text.js\";\nimport transition_textTween from \"./textTween.js\";\nimport transition_transition from \"./transition.js\";\nimport transition_tween from \"./tween.js\";\nimport transition_end from \"./end.js\";\n\nvar id = 0;\n\nexport function Transition(groups, parents, name, id) {\n  this._groups = groups;\n  this._parents = parents;\n  this._name = name;\n  this._id = id;\n}\n\nexport default function transition(name) {\n  return selection().transition(name);\n}\n\nexport function newId() {\n  return ++id;\n}\n\nvar selection_prototype = selection.prototype;\n\nTransition.prototype = transition.prototype = {\n  constructor: Transition,\n  select: transition_select,\n  selectAll: transition_selectAll,\n  filter: transition_filter,\n  merge: transition_merge,\n  selection: transition_selection,\n  transition: transition_transition,\n  call: selection_prototype.call,\n  nodes: selection_prototype.nodes,\n  node: selection_prototype.node,\n  size: selection_prototype.size,\n  empty: selection_prototype.empty,\n  each: selection_prototype.each,\n  on: transition_on,\n  attr: transition_attr,\n  attrTween: transition_attrTween,\n  style: transition_style,\n  styleTween: transition_styleTween,\n  text: transition_text,\n  textTween: transition_textTween,\n  remove: transition_remove,\n  tween: transition_tween,\n  delay: transition_delay,\n  duration: transition_duration,\n  ease: transition_ease,\n  end: transition_end\n};\n","import {selector} from \"d3-selection\";\nimport {Transition} from \"./index.js\";\nimport schedule, {get} from \"./schedule.js\";\n\nexport default function(select) {\n  var name = this._name,\n      id = this._id;\n\n  if (typeof select !== \"function\") select = selector(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = new Array(n), node, subnode, i = 0; i < n; ++i) {\n      if ((node = group[i]) && (subnode = select.call(node, node.__data__, i, group))) {\n        if (\"__data__\" in node) subnode.__data__ = node.__data__;\n        subgroup[i] = subnode;\n        schedule(subgroup[i], name, id, i, subgroup, get(node, id));\n      }\n    }\n  }\n\n  return new Transition(subgroups, this._parents, name, id);\n}\n","import {selectorAll} from \"d3-selection\";\nimport {Transition} from \"./index.js\";\nimport schedule, {get} from \"./schedule.js\";\n\nexport default function(select) {\n  var name = this._name,\n      id = this._id;\n\n  if (typeof select !== \"function\") select = selectorAll(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = [], parents = [], j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        for (var children = select.call(node, node.__data__, i, group), child, inherit = get(node, id), k = 0, l = children.length; k < l; ++k) {\n          if (child = children[k]) {\n            schedule(child, name, id, k, children, inherit);\n          }\n        }\n        subgroups.push(children);\n        parents.push(node);\n      }\n    }\n  }\n\n  return new Transition(subgroups, parents, name, id);\n}\n","import {matcher} from \"d3-selection\";\nimport {Transition} from \"./index.js\";\n\nexport default function(match) {\n  if (typeof match !== \"function\") match = matcher(match);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = [], node, i = 0; i < n; ++i) {\n      if ((node = group[i]) && match.call(node, node.__data__, i, group)) {\n        subgroup.push(node);\n      }\n    }\n  }\n\n  return new Transition(subgroups, this._parents, this._name, this._id);\n}\n","import {Transition} from \"./index.js\";\n\nexport default function(transition) {\n  if (transition._id !== this._id) throw new Error;\n\n  for (var groups0 = this._groups, groups1 = transition._groups, m0 = groups0.length, m1 = groups1.length, m = Math.min(m0, m1), merges = new Array(m0), j = 0; j < m; ++j) {\n    for (var group0 = groups0[j], group1 = groups1[j], n = group0.length, merge = merges[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group0[i] || group1[i]) {\n        merge[i] = node;\n      }\n    }\n  }\n\n  for (; j < m0; ++j) {\n    merges[j] = groups0[j];\n  }\n\n  return new Transition(merges, this._parents, this._name, this._id);\n}\n","import {Transition, newId} from \"./index.js\";\nimport schedule, {get} from \"./schedule.js\";\n\nexport default function() {\n  var name = this._name,\n      id0 = this._id,\n      id1 = newId();\n\n  for (var groups = this._groups, m = groups.length, j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        var inherit = get(node, id0);\n        schedule(node, name, id1, i, group, {\n          time: inherit.time + inherit.delay + inherit.duration,\n          delay: 0,\n          duration: inherit.duration,\n          ease: inherit.ease\n        });\n      }\n    }\n  }\n\n  return new Transition(groups, this._parents, name, id1);\n}\n","import {tweenValue} from \"./tween.js\";\n\nfunction textConstant(value) {\n  return function() {\n    this.textContent = value;\n  };\n}\n\nfunction textFunction(value) {\n  return function() {\n    var value1 = value(this);\n    this.textContent = value1 == null ? \"\" : value1;\n  };\n}\n\nexport default function(value) {\n  return this.tween(\"text\", typeof value === \"function\"\n      ? textFunction(tweenValue(this, \"text\", value))\n      : textConstant(value == null ? \"\" : value + \"\"));\n}\n","function removeFunction(id) {\n  return function() {\n    var parent = this.parentNode;\n    for (var i in this.__transition) if (+i !== id) return;\n    if (parent) parent.removeChild(this);\n  };\n}\n\nexport default function() {\n  return this.on(\"end.remove\", removeFunction(this._id));\n}\n","import {set} from \"./schedule.js\";\n\nexport default function() {\n  var on0, on1, that = this, id = that._id, size = that.size();\n  return new Promise(function(resolve, reject) {\n    var cancel = {value: reject},\n        end = {value: function() { if (--size === 0) resolve(); }};\n\n    that.each(function() {\n      var schedule = set(this, id),\n          on = schedule.on;\n\n      // If this node shared a dispatch with the previous node,\n      // just assign the updated shared dispatch and we’re done!\n      // Otherwise, copy-on-write.\n      if (on !== on0) {\n        on1 = (on0 = on).copy();\n        on1._.cancel.push(cancel);\n        on1._.interrupt.push(cancel);\n        on1._.end.push(end);\n      }\n\n      schedule.on = on1;\n    });\n  });\n}\n","import {Transition, newId} from \"../transition/index.js\";\nimport schedule from \"../transition/schedule.js\";\nimport {easeCubicInOut} from \"d3-ease\";\nimport {now} from \"d3-timer\";\n\nvar defaultTiming = {\n  time: null, // Set on use.\n  delay: 0,\n  duration: 250,\n  ease: easeCubicInOut\n};\n\nfunction inherit(node, id) {\n  var timing;\n  while (!(timing = node.__transition) || !(timing = timing[id])) {\n    if (!(node = node.parentNode)) {\n      return defaultTiming.time = now(), defaultTiming;\n    }\n  }\n  return timing;\n}\n\nexport default function(name) {\n  var id,\n      timing;\n\n  if (name instanceof Transition) {\n    id = name._id, name = name._name;\n  } else {\n    id = newId(), (timing = defaultTiming).time = now(), name = name == null ? null : name + \"\";\n  }\n\n  for (var groups = this._groups, m = groups.length, j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        schedule(node, name, id, i, group, timing || inherit(node, id));\n      }\n    }\n  }\n\n  return new Transition(groups, this._parents, name, id);\n}\n","export function cubicIn(t) {\n  return t * t * t;\n}\n\nexport function cubicOut(t) {\n  return --t * t * t + 1;\n}\n\nexport function cubicInOut(t) {\n  return ((t *= 2) <= 1 ? t * t * t : (t -= 2) * t * t + 2) / 2;\n}\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","export default function(target, type, selection) {\n  this.target = target;\n  this.type = type;\n  this.selection = selection;\n}\n","import {event} from \"d3-selection\";\n\nexport function nopropagation() {\n  event.stopImmediatePropagation();\n}\n\nexport default function() {\n  event.preventDefault();\n  event.stopImmediatePropagation();\n}\n","import {selection} from \"d3-selection\";\nimport selection_interrupt from \"./interrupt.js\";\nimport selection_transition from \"./transition.js\";\n\nselection.prototype.interrupt = selection_interrupt;\nselection.prototype.transition = selection_transition;\n","import interrupt from \"../interrupt.js\";\n\nexport default function(name) {\n  return this.each(function() {\n    interrupt(this, name);\n  });\n}\n","import {dispatch} from \"d3-dispatch\";\nimport {dragDisable, dragEnable} from \"d3-drag\";\nimport {interpolate} from \"d3-interpolate\";\nimport {customEvent, event, touch, mouse, select} from \"d3-selection\";\nimport {interrupt} from \"d3-transition\";\nimport constant from \"./constant.js\";\nimport BrushEvent from \"./event.js\";\nimport noevent, {nopropagation} from \"./noevent.js\";\n\nvar MODE_DRAG = {name: \"drag\"},\n    MODE_SPACE = {name: \"space\"},\n    MODE_HANDLE = {name: \"handle\"},\n    MODE_CENTER = {name: \"center\"};\n\nfunction number1(e) {\n  return [+e[0], +e[1]];\n}\n\nfunction number2(e) {\n  return [number1(e[0]), number1(e[1])];\n}\n\nfunction toucher(identifier) {\n  return function(target) {\n    return touch(target, event.touches, identifier);\n  };\n}\n\nvar X = {\n  name: \"x\",\n  handles: [\"w\", \"e\"].map(type),\n  input: function(x, e) { return x == null ? null : [[+x[0], e[0][1]], [+x[1], e[1][1]]]; },\n  output: function(xy) { return xy && [xy[0][0], xy[1][0]]; }\n};\n\nvar Y = {\n  name: \"y\",\n  handles: [\"n\", \"s\"].map(type),\n  input: function(y, e) { return y == null ? null : [[e[0][0], +y[0]], [e[1][0], +y[1]]]; },\n  output: function(xy) { return xy && [xy[0][1], xy[1][1]]; }\n};\n\nvar XY = {\n  name: \"xy\",\n  handles: [\"n\", \"w\", \"e\", \"s\", \"nw\", \"ne\", \"sw\", \"se\"].map(type),\n  input: function(xy) { return xy == null ? null : number2(xy); },\n  output: function(xy) { return xy; }\n};\n\nvar cursors = {\n  overlay: \"crosshair\",\n  selection: \"move\",\n  n: \"ns-resize\",\n  e: \"ew-resize\",\n  s: \"ns-resize\",\n  w: \"ew-resize\",\n  nw: \"nwse-resize\",\n  ne: \"nesw-resize\",\n  se: \"nwse-resize\",\n  sw: \"nesw-resize\"\n};\n\nvar flipX = {\n  e: \"w\",\n  w: \"e\",\n  nw: \"ne\",\n  ne: \"nw\",\n  se: \"sw\",\n  sw: \"se\"\n};\n\nvar flipY = {\n  n: \"s\",\n  s: \"n\",\n  nw: \"sw\",\n  ne: \"se\",\n  se: \"ne\",\n  sw: \"nw\"\n};\n\nvar signsX = {\n  overlay: +1,\n  selection: +1,\n  n: null,\n  e: +1,\n  s: null,\n  w: -1,\n  nw: -1,\n  ne: +1,\n  se: +1,\n  sw: -1\n};\n\nvar signsY = {\n  overlay: +1,\n  selection: +1,\n  n: -1,\n  e: null,\n  s: +1,\n  w: null,\n  nw: -1,\n  ne: -1,\n  se: +1,\n  sw: +1\n};\n\nfunction type(t) {\n  return {type: t};\n}\n\n// Ignore right-click, since that should open the context menu.\nfunction defaultFilter() {\n  return !event.ctrlKey && !event.button;\n}\n\nfunction defaultExtent() {\n  var svg = this.ownerSVGElement || this;\n  if (svg.hasAttribute(\"viewBox\")) {\n    svg = svg.viewBox.baseVal;\n    return [[svg.x, svg.y], [svg.x + svg.width, svg.y + svg.height]];\n  }\n  return [[0, 0], [svg.width.baseVal.value, svg.height.baseVal.value]];\n}\n\nfunction defaultTouchable() {\n  return navigator.maxTouchPoints || (\"ontouchstart\" in this);\n}\n\n// Like d3.local, but with the name “__brush” rather than auto-generated.\nfunction local(node) {\n  while (!node.__brush) if (!(node = node.parentNode)) return;\n  return node.__brush;\n}\n\nfunction empty(extent) {\n  return extent[0][0] === extent[1][0]\n      || extent[0][1] === extent[1][1];\n}\n\nexport function brushSelection(node) {\n  var state = node.__brush;\n  return state ? state.dim.output(state.selection) : null;\n}\n\nexport function brushX() {\n  return brush(X);\n}\n\nexport function brushY() {\n  return brush(Y);\n}\n\nexport default function() {\n  return brush(XY);\n}\n\nfunction brush(dim) {\n  var extent = defaultExtent,\n      filter = defaultFilter,\n      touchable = defaultTouchable,\n      keys = true,\n      listeners = dispatch(\"start\", \"brush\", \"end\"),\n      handleSize = 6,\n      touchending;\n\n  function brush(group) {\n    var overlay = group\n        .property(\"__brush\", initialize)\n      .selectAll(\".overlay\")\n      .data([type(\"overlay\")]);\n\n    overlay.enter().append(\"rect\")\n        .attr(\"class\", \"overlay\")\n        .attr(\"pointer-events\", \"all\")\n        .attr(\"cursor\", cursors.overlay)\n      .merge(overlay)\n        .each(function() {\n          var extent = local(this).extent;\n          select(this)\n              .attr(\"x\", extent[0][0])\n              .attr(\"y\", extent[0][1])\n              .attr(\"width\", extent[1][0] - extent[0][0])\n              .attr(\"height\", extent[1][1] - extent[0][1]);\n        });\n\n    group.selectAll(\".selection\")\n      .data([type(\"selection\")])\n      .enter().append(\"rect\")\n        .attr(\"class\", \"selection\")\n        .attr(\"cursor\", cursors.selection)\n        .attr(\"fill\", \"#777\")\n        .attr(\"fill-opacity\", 0.3)\n        .attr(\"stroke\", \"#fff\")\n        .attr(\"shape-rendering\", \"crispEdges\");\n\n    var handle = group.selectAll(\".handle\")\n      .data(dim.handles, function(d) { return d.type; });\n\n    handle.exit().remove();\n\n    handle.enter().append(\"rect\")\n        .attr(\"class\", function(d) { return \"handle handle--\" + d.type; })\n        .attr(\"cursor\", function(d) { return cursors[d.type]; });\n\n    group\n        .each(redraw)\n        .attr(\"fill\", \"none\")\n        .attr(\"pointer-events\", \"all\")\n        .on(\"mousedown.brush\", started)\n      .filter(touchable)\n        .on(\"touchstart.brush\", started)\n        .on(\"touchmove.brush\", touchmoved)\n        .on(\"touchend.brush touchcancel.brush\", touchended)\n        .style(\"touch-action\", \"none\")\n        .style(\"-webkit-tap-highlight-color\", \"rgba(0,0,0,0)\");\n  }\n\n  brush.move = function(group, selection) {\n    if (group.selection) {\n      group\n          .on(\"start.brush\", function() { emitter(this, arguments).beforestart().start(); })\n          .on(\"interrupt.brush end.brush\", function() { emitter(this, arguments).end(); })\n          .tween(\"brush\", function() {\n            var that = this,\n                state = that.__brush,\n                emit = emitter(that, arguments),\n                selection0 = state.selection,\n                selection1 = dim.input(typeof selection === \"function\" ? selection.apply(this, arguments) : selection, state.extent),\n                i = interpolate(selection0, selection1);\n\n            function tween(t) {\n              state.selection = t === 1 && selection1 === null ? null : i(t);\n              redraw.call(that);\n              emit.brush();\n            }\n\n            return selection0 !== null && selection1 !== null ? tween : tween(1);\n          });\n    } else {\n      group\n          .each(function() {\n            var that = this,\n                args = arguments,\n                state = that.__brush,\n                selection1 = dim.input(typeof selection === \"function\" ? selection.apply(that, args) : selection, state.extent),\n                emit = emitter(that, args).beforestart();\n\n            interrupt(that);\n            state.selection = selection1 === null ? null : selection1;\n            redraw.call(that);\n            emit.start().brush().end();\n          });\n    }\n  };\n\n  brush.clear = function(group) {\n    brush.move(group, null);\n  };\n\n  function redraw() {\n    var group = select(this),\n        selection = local(this).selection;\n\n    if (selection) {\n      group.selectAll(\".selection\")\n          .style(\"display\", null)\n          .attr(\"x\", selection[0][0])\n          .attr(\"y\", selection[0][1])\n          .attr(\"width\", selection[1][0] - selection[0][0])\n          .attr(\"height\", selection[1][1] - selection[0][1]);\n\n      group.selectAll(\".handle\")\n          .style(\"display\", null)\n          .attr(\"x\", function(d) { return d.type[d.type.length - 1] === \"e\" ? selection[1][0] - handleSize / 2 : selection[0][0] - handleSize / 2; })\n          .attr(\"y\", function(d) { return d.type[0] === \"s\" ? selection[1][1] - handleSize / 2 : selection[0][1] - handleSize / 2; })\n          .attr(\"width\", function(d) { return d.type === \"n\" || d.type === \"s\" ? selection[1][0] - selection[0][0] + handleSize : handleSize; })\n          .attr(\"height\", function(d) { return d.type === \"e\" || d.type === \"w\" ? selection[1][1] - selection[0][1] + handleSize : handleSize; });\n    }\n\n    else {\n      group.selectAll(\".selection,.handle\")\n          .style(\"display\", \"none\")\n          .attr(\"x\", null)\n          .attr(\"y\", null)\n          .attr(\"width\", null)\n          .attr(\"height\", null);\n    }\n  }\n\n  function emitter(that, args, clean) {\n    return (!clean && that.__brush.emitter) || new Emitter(that, args);\n  }\n\n  function Emitter(that, args) {\n    this.that = that;\n    this.args = args;\n    this.state = that.__brush;\n    this.active = 0;\n  }\n\n  Emitter.prototype = {\n    beforestart: function() {\n      if (++this.active === 1) this.state.emitter = this, this.starting = true;\n      return this;\n    },\n    start: function() {\n      if (this.starting) this.starting = false, this.emit(\"start\");\n      else this.emit(\"brush\");\n      return this;\n    },\n    brush: function() {\n      this.emit(\"brush\");\n      return this;\n    },\n    end: function() {\n      if (--this.active === 0) delete this.state.emitter, this.emit(\"end\");\n      return this;\n    },\n    emit: function(type) {\n      customEvent(new BrushEvent(brush, type, dim.output(this.state.selection)), listeners.apply, listeners, [type, this.that, this.args]);\n    }\n  };\n\n  function started() {\n    if (touchending && !event.touches) return;\n    if (!filter.apply(this, arguments)) return;\n\n    var that = this,\n        type = event.target.__data__.type,\n        mode = (keys && event.metaKey ? type = \"overlay\" : type) === \"selection\" ? MODE_DRAG : (keys && event.altKey ? MODE_CENTER : MODE_HANDLE),\n        signX = dim === Y ? null : signsX[type],\n        signY = dim === X ? null : signsY[type],\n        state = local(that),\n        extent = state.extent,\n        selection = state.selection,\n        W = extent[0][0], w0, w1,\n        N = extent[0][1], n0, n1,\n        E = extent[1][0], e0, e1,\n        S = extent[1][1], s0, s1,\n        dx = 0,\n        dy = 0,\n        moving,\n        shifting = signX && signY && keys && event.shiftKey,\n        lockX,\n        lockY,\n        pointer = event.touches ? toucher(event.changedTouches[0].identifier) : mouse,\n        point0 = pointer(that),\n        point = point0,\n        emit = emitter(that, arguments, true).beforestart();\n\n    if (type === \"overlay\") {\n      if (selection) moving = true;\n      state.selection = selection = [\n        [w0 = dim === Y ? W : point0[0], n0 = dim === X ? N : point0[1]],\n        [e0 = dim === Y ? E : w0, s0 = dim === X ? S : n0]\n      ];\n    } else {\n      w0 = selection[0][0];\n      n0 = selection[0][1];\n      e0 = selection[1][0];\n      s0 = selection[1][1];\n    }\n\n    w1 = w0;\n    n1 = n0;\n    e1 = e0;\n    s1 = s0;\n\n    var group = select(that)\n        .attr(\"pointer-events\", \"none\");\n\n    var overlay = group.selectAll(\".overlay\")\n        .attr(\"cursor\", cursors[type]);\n\n    if (event.touches) {\n      emit.moved = moved;\n      emit.ended = ended;\n    } else {\n      var view = select(event.view)\n          .on(\"mousemove.brush\", moved, true)\n          .on(\"mouseup.brush\", ended, true);\n      if (keys) view\n          .on(\"keydown.brush\", keydowned, true)\n          .on(\"keyup.brush\", keyupped, true)\n\n      dragDisable(event.view);\n    }\n\n    nopropagation();\n    interrupt(that);\n    redraw.call(that);\n    emit.start();\n\n    function moved() {\n      var point1 = pointer(that);\n      if (shifting && !lockX && !lockY) {\n        if (Math.abs(point1[0] - point[0]) > Math.abs(point1[1] - point[1])) lockY = true;\n        else lockX = true;\n      }\n      point = point1;\n      moving = true;\n      noevent();\n      move();\n    }\n\n    function move() {\n      var t;\n\n      dx = point[0] - point0[0];\n      dy = point[1] - point0[1];\n\n      switch (mode) {\n        case MODE_SPACE:\n        case MODE_DRAG: {\n          if (signX) dx = Math.max(W - w0, Math.min(E - e0, dx)), w1 = w0 + dx, e1 = e0 + dx;\n          if (signY) dy = Math.max(N - n0, Math.min(S - s0, dy)), n1 = n0 + dy, s1 = s0 + dy;\n          break;\n        }\n        case MODE_HANDLE: {\n          if (signX < 0) dx = Math.max(W - w0, Math.min(E - w0, dx)), w1 = w0 + dx, e1 = e0;\n          else if (signX > 0) dx = Math.max(W - e0, Math.min(E - e0, dx)), w1 = w0, e1 = e0 + dx;\n          if (signY < 0) dy = Math.max(N - n0, Math.min(S - n0, dy)), n1 = n0 + dy, s1 = s0;\n          else if (signY > 0) dy = Math.max(N - s0, Math.min(S - s0, dy)), n1 = n0, s1 = s0 + dy;\n          break;\n        }\n        case MODE_CENTER: {\n          if (signX) w1 = Math.max(W, Math.min(E, w0 - dx * signX)), e1 = Math.max(W, Math.min(E, e0 + dx * signX));\n          if (signY) n1 = Math.max(N, Math.min(S, n0 - dy * signY)), s1 = Math.max(N, Math.min(S, s0 + dy * signY));\n          break;\n        }\n      }\n\n      if (e1 < w1) {\n        signX *= -1;\n        t = w0, w0 = e0, e0 = t;\n        t = w1, w1 = e1, e1 = t;\n        if (type in flipX) overlay.attr(\"cursor\", cursors[type = flipX[type]]);\n      }\n\n      if (s1 < n1) {\n        signY *= -1;\n        t = n0, n0 = s0, s0 = t;\n        t = n1, n1 = s1, s1 = t;\n        if (type in flipY) overlay.attr(\"cursor\", cursors[type = flipY[type]]);\n      }\n\n      if (state.selection) selection = state.selection; // May be set by brush.move!\n      if (lockX) w1 = selection[0][0], e1 = selection[1][0];\n      if (lockY) n1 = selection[0][1], s1 = selection[1][1];\n\n      if (selection[0][0] !== w1\n          || selection[0][1] !== n1\n          || selection[1][0] !== e1\n          || selection[1][1] !== s1) {\n        state.selection = [[w1, n1], [e1, s1]];\n        redraw.call(that);\n        emit.brush();\n      }\n    }\n\n    function ended() {\n      nopropagation();\n      if (event.touches) {\n        if (event.touches.length) return;\n        if (touchending) clearTimeout(touchending);\n        touchending = setTimeout(function() { touchending = null; }, 500); // Ghost clicks are delayed!\n      } else {\n        dragEnable(event.view, moving);\n        view.on(\"keydown.brush keyup.brush mousemove.brush mouseup.brush\", null);\n      }\n      group.attr(\"pointer-events\", \"all\");\n      overlay.attr(\"cursor\", cursors.overlay);\n      if (state.selection) selection = state.selection; // May be set by brush.move (on start)!\n      if (empty(selection)) state.selection = null, redraw.call(that);\n      emit.end();\n    }\n\n    function keydowned() {\n      switch (event.keyCode) {\n        case 16: { // SHIFT\n          shifting = signX && signY;\n          break;\n        }\n        case 18: { // ALT\n          if (mode === MODE_HANDLE) {\n            if (signX) e0 = e1 - dx * signX, w0 = w1 + dx * signX;\n            if (signY) s0 = s1 - dy * signY, n0 = n1 + dy * signY;\n            mode = MODE_CENTER;\n            move();\n          }\n          break;\n        }\n        case 32: { // SPACE; takes priority over ALT\n          if (mode === MODE_HANDLE || mode === MODE_CENTER) {\n            if (signX < 0) e0 = e1 - dx; else if (signX > 0) w0 = w1 - dx;\n            if (signY < 0) s0 = s1 - dy; else if (signY > 0) n0 = n1 - dy;\n            mode = MODE_SPACE;\n            overlay.attr(\"cursor\", cursors.selection);\n            move();\n          }\n          break;\n        }\n        default: return;\n      }\n      noevent();\n    }\n\n    function keyupped() {\n      switch (event.keyCode) {\n        case 16: { // SHIFT\n          if (shifting) {\n            lockX = lockY = shifting = false;\n            move();\n          }\n          break;\n        }\n        case 18: { // ALT\n          if (mode === MODE_CENTER) {\n            if (signX < 0) e0 = e1; else if (signX > 0) w0 = w1;\n            if (signY < 0) s0 = s1; else if (signY > 0) n0 = n1;\n            mode = MODE_HANDLE;\n            move();\n          }\n          break;\n        }\n        case 32: { // SPACE\n          if (mode === MODE_SPACE) {\n            if (event.altKey) {\n              if (signX) e0 = e1 - dx * signX, w0 = w1 + dx * signX;\n              if (signY) s0 = s1 - dy * signY, n0 = n1 + dy * signY;\n              mode = MODE_CENTER;\n            } else {\n              if (signX < 0) e0 = e1; else if (signX > 0) w0 = w1;\n              if (signY < 0) s0 = s1; else if (signY > 0) n0 = n1;\n              mode = MODE_HANDLE;\n            }\n            overlay.attr(\"cursor\", cursors[type]);\n            move();\n          }\n          break;\n        }\n        default: return;\n      }\n      noevent();\n    }\n  }\n\n  function touchmoved() {\n    emitter(this, arguments).moved();\n  }\n\n  function touchended() {\n    emitter(this, arguments).ended();\n  }\n\n  function initialize() {\n    var state = this.__brush || {selection: null};\n    state.extent = number2(extent.apply(this, arguments));\n    state.dim = dim;\n    return state;\n  }\n\n  brush.extent = function(_) {\n    return arguments.length ? (extent = typeof _ === \"function\" ? _ : constant(number2(_)), brush) : extent;\n  };\n\n  brush.filter = function(_) {\n    return arguments.length ? (filter = typeof _ === \"function\" ? _ : constant(!!_), brush) : filter;\n  };\n\n  brush.touchable = function(_) {\n    return arguments.length ? (touchable = typeof _ === \"function\" ? _ : constant(!!_), brush) : touchable;\n  };\n\n  brush.handleSize = function(_) {\n    return arguments.length ? (handleSize = +_, brush) : handleSize;\n  };\n\n  brush.keyModifiers = function(_) {\n    return arguments.length ? (keys = !!_, brush) : keys;\n  };\n\n  brush.on = function() {\n    var value = listeners.on.apply(listeners, arguments);\n    return value === listeners ? brush : value;\n  };\n\n  return brush;\n}\n"],"names":["noop","value","dispatch","t","i","n","arguments","length","_","test","Error","Dispatch","this","parseTypenames","typenames","types","trim","split","map","name","indexOf","slice","hasOwnProperty","type","get","c","set","callback","concat","push","event","preventDefault","stopImmediatePropagation","view","root","document","documentElement","selection","select","on","noevent","__noselect","style","MozUserSelect","yesdrag","noclick","setTimeout","prototype","constructor","typename","T","copy","call","that","args","Array","apply","taskHead","taskTail","frame","timeout","interval","clockLast","clockNow","clockSkew","clock","performance","now","Date","setFrame","window","requestAnimationFrame","bind","f","clearNow","Timer","_call","_time","_next","timer","delay","time","restart","wake","e","timerFlush","t0","t2","t1","Infinity","sleep","nap","poke","clearTimeout","clearInterval","setInterval","elapsed","stop","TypeError","emptyOn","emptyTween","node","id","index","group","timing","schedules","__transition","self","tween","start","j","o","state","__data__","tick","duration","ease","create","init","schedule","active","empty","tweenRemove","tween0","tween1","splice","tweenFunction","tweenValue","transition","_id","each","a","b","interpolateNumber","color","interpolateRgb","interpolateString","attrRemove","removeAttribute","attrRemoveNS","fullname","removeAttributeNS","space","local","attrConstant","interpolate","value1","string00","interpolate0","string1","string0","getAttribute","attrConstantNS","getAttributeNS","attrFunction","string10","attrFunctionNS","attrInterpolate","setAttribute","attrInterpolateNS","setAttributeNS","attrTweenNS","i0","_value","attrTween","delayFunction","delayConstant","durationFunction","durationConstant","easeConstant","onFunction","listener","on0","on1","sit","every","Selection","styleRemove","removeProperty","styleInterpolate","priority","setProperty","styleTween","textInterpolate","textContent","textTween","Transition","groups","parents","_groups","_parents","_name","newId","selection_prototype","selector","m","subgroups","subnode","subgroup","selectAll","selectorAll","child","children","inherit","k","l","filter","match","matcher","merge","groups0","groups1","m0","m1","Math","min","merges","group0","group1","id0","id1","nodes","size","attr","namespace","interpolateTransform","key","styleNull","styleFunction","listener0","remove","undefined","styleMaybeRemove","styleConstant","text","textFunction","textConstant","parent","parentNode","removeChild","removeFunction","end","Promise","resolve","reject","cancel","interrupt","defaultTiming","x","target","nopropagation","MODE_DRAG","MODE_SPACE","MODE_HANDLE","MODE_CENTER","number1","number2","toucher","identifier","touch","touches","X","handles","input","output","xy","Y","y","XY","cursors","overlay","s","w","nw","ne","se","sw","flipX","flipY","signsX","signsY","defaultFilter","ctrlKey","button","defaultExtent","svg","ownerSVGElement","hasAttribute","viewBox","baseVal","width","height","defaultTouchable","navigator","maxTouchPoints","__brush","extent","brushSelection","dim","brushX","brush","brushY","touchending","touchable","keys","listeners","handleSize","property","initialize","data","enter","append","handle","d","exit","redraw","started","touchmoved","touchended","emitter","clean","Emitter","w0","w1","n0","n1","e0","e1","s0","s1","moving","lockX","lockY","mode","metaKey","altKey","signX","signY","W","N","E","S","dx","dy","shifting","shiftKey","pointer","changedTouches","mouse","point0","point","emit","beforestart","moved","ended","keydowned","keyupped","dragDisable","point1","abs","move","max","dragEnable","keyCode","selection0","selection1","clear","starting","customEvent","BrushEvent","constant","keyModifiers"],"mappings":"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"}