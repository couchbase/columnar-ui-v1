import"../common/tslib.es6-1ce727b1.js";import{R as t,a0 as e,o as r,m as n,O as s,L as i}from"../common/zip-585f594f.js";import"../rxjs.js";import{shareReplay as o,first as u}from"../rxjs/operators.js";var a=function(){function s(s){this.name="@uirouter/rx",this.deregisterFns=[];var i=new t(1),o=i.pipe(e((function(t){return t.promise.then((function(){return t}),(function(){return null}))})),r((function(t){return!!t}))),u=o.pipe(n((function(t){return t.params()}))),a=new t(1);function c(t,e){var r={currentStates:s.stateRegistry.get(),registered:[],deregistered:[]};t&&(r[t]=e),a.next(r)}this.deregisterFns.push(s.transitionService.onStart({},(function(t){return i.next(t)}))),this.deregisterFns.push(s.stateRegistry.onStatesChanged(c)),c(null,null),Object.assign(s.globals,{start$:i,success$:o,params$:u,states$:a})}return s.prototype.dispose=function(){this.deregisterFns.forEach((function(t){return t()})),this.deregisterFns=[]},s}(),c=a;function p(t){t instanceof s||(t=i(t));var e=t.pipe(o(1));return e.pipe(u()).toPromise().then((function(){return e}))}export{p as RXWAIT,a as UIRouterRx,c as UIRouterRxPlugin};
//# sourceMappingURL=rx.js.map
