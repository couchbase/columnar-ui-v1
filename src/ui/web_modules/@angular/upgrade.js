import{_ as t,c as e,e as n,d as r,g as o,a as i,f as s}from"../common/tslib.es6-1ce727b1.js";import"../common/zip-585f594f.js";import"../rxjs.js";import"../rxjs/operators.js";import{Version as a,NgZone as c,Injector as p,Compiler as u,resolveForwardRef as l,NgModule as h,isDevMode as d,Directive as f,Inject as m,ElementRef as g,EventEmitter as v,Testability as y,ComponentFactoryResolver as w,ChangeDetectorRef as $,TestabilityRegistry as b,ApplicationRef as j,SimpleChange as C}from"./core.js";import"./common.js";import"./compiler.js";import"./platform-browser.js";import{platformBrowserDynamic as O}from"./platform-browser-dynamic.js";
/**
 * @license Angular v8.2.14
 * (c) 2010-2019 Google LLC. https://angular.io/
 * License: MIT
 */
/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */var E=new a("8.2.14");
/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */function A(){throw new Error("AngularJS v1.x is not loaded!")}var k=function(){return A()};k.cleanData=A;var T={bootstrap:A,module:A,element:k,injector:A,version:void 0,resumeBootstrap:A,getTestability:A};try{window.hasOwnProperty("angular")&&(T=window.angular)}catch(t){}var R=function(t){return T.element(t)};R.cleanData=function(t){return T.element.cleanData(t)};
/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var P="$$angularInjector",D=function(){function t(t,e){this.prop=t,this.attr=e,this.parseBinding()}return t.prototype.parseBinding=function(){this.bracketAttr="["+this.attr+"]",this.parenAttr="("+this.attr+")",this.bracketParenAttr="[("+this.attr+")]";var t=this.attr.charAt(0).toUpperCase()+this.attr.substr(1);this.onAttr="on"+t,this.bindAttr="bind"+t,this.bindonAttr="bindon"+t},t}(),S=/^(?:x|data)[:\-_]/i,I=/[:\-_]+(.)/g;function M(t){throw console.error?console.error(t,t.stack):console.log(t,t.stack),t}function N(t){return"$"+t+"Controller"}function _(t){return t.overriddenName||t.name||t.toString().split("\n")[0]}function B(t){return t.has("$$angularDowngradedModuleCount")?t.get("$$angularDowngradedModuleCount"):0}function U(t){return t.has("$$angularUpgradeAppType")?t.get("$$angularUpgradeAppType"):0}function F(t){return"function"==typeof t}function x(t,e,n,r){var o=U(t),i=B(t);switch(o){case 1:case 2:if(e)throw new Error("Error while "+r+": 'downgradedModule' unexpectedly specified.\nYou should not specify a value for 'downgradedModule', unless you are downgrading more than one Angular module (via 'downgradeModule()').");break;case 3:if(!e&&i>=2)throw new Error("Error while "+r+": 'downgradedModule' not specified.\nThis application contains more than one downgraded Angular module, thus you need to always specify 'downgradedModule' when downgrading components and injectables.");if(!t.has(n))throw new Error("Error while "+r+": Unable to find the specified downgraded module.\nDid you forget to downgrade an Angular module or include it in the AngularJS application?");break;default:throw new Error("Error while "+r+": Not a valid '@angular/upgrade' application.\nDid you forget to downgrade an Angular module or include it in the AngularJS application?")}}var q=function(){var t=this;this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))};function L(t,e){return t===e||t!=t&&e!=e}
/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */var V,Z={__UNINITIALIZED__:!0},z=function(){function t(t,e,n,r,o,i,s,a,c,p){this.element=t,this.attrs=e,this.scope=n,this.ngModel=r,this.parentInjector=o,this.$injector=i,this.$compile=s,this.$parse=a,this.componentFactory=c,this.wrapCallback=p,this.implementsOnChanges=!1,this.inputChangeCount=0,this.inputChanges={},this.componentScope=n.$new()}return t.prototype.compileContents=function(){var t=this,e=[],n=this.groupProjectableNodes().map((function(e){return t.$compile(e)}));return this.element.empty(),n.forEach((function(n){n(t.scope,(function(n){e.push(n),t.element.append(n)}))})),e},t.prototype.createComponent=function(t){var e=[{provide:"$scope",useValue:this.componentScope}],n=p.create({providers:e,parent:this.parentInjector,name:"DowngradeComponentAdapter"});this.componentRef=this.componentFactory.create(n,t,this.element[0]),this.viewChangeDetector=this.componentRef.injector.get($),this.changeDetector=this.componentRef.changeDetectorRef,this.component=this.componentRef.instance;var r,o,i=this.componentRef.injector.get(y,null);i&&this.componentRef.injector.get(b).registerApplication(this.componentRef.location.nativeElement,i),r=this.ngModel,o=this.component,r&&function(t){return"function"==typeof t.writeValue&&"function"==typeof t.registerOnChange}(o)&&(r.$render=function(){o.writeValue(r.$viewValue)},o.registerOnChange(r.$setViewValue.bind(r)),"function"==typeof o.registerOnTouched&&o.registerOnTouched(r.$setTouched.bind(r)))},t.prototype.setupInputs=function(t,e){var n=this;void 0===e&&(e=!0);for(var r=this.attrs,o=this.componentFactory.inputs||[],i=function(t){var e,i,a=new D(o[t].propName,o[t].templateName),c=null;if(r.hasOwnProperty(a.attr)){var p=(e=a.prop,i=Z,function(t){L(i,t)||(i===Z&&(i=t),n.updateInput(e,i,t),i=t)});r.$observe(a.attr,p);var u=s.componentScope.$watch((function(){u(),u=null,p(r[a.attr])}))}else r.hasOwnProperty(a.bindAttr)?c=r[a.bindAttr]:r.hasOwnProperty(a.bracketAttr)?c=r[a.bracketAttr]:r.hasOwnProperty(a.bindonAttr)?c=r[a.bindonAttr]:r.hasOwnProperty(a.bracketParenAttr)&&(c=r[a.bracketParenAttr]);if(null!=c){var l=function(t){return function(e,r){return n.updateInput(t,r,e)}}(a.prop);s.componentScope.$watch(c,l)}},s=this,a=0;a<o.length;a++)i(a);var c=function(){return n.changeDetector.detectChanges()},p=this.componentFactory.componentType.prototype;if(this.implementsOnChanges=!(!p||!p.ngOnChanges),this.componentScope.$watch((function(){return n.inputChangeCount}),this.wrapCallback((function(){if(n.implementsOnChanges){var t=n.inputChanges;n.inputChanges={},n.component.ngOnChanges(t)}n.viewChangeDetector.markForCheck(),e||c()}))),e&&this.componentScope.$watch(this.wrapCallback(c)),t||!e)var u=this.componentScope.$watch((function(){u(),u=null,n.parentInjector.get(j).attachView(n.componentRef.hostView)}))},t.prototype.setupOutputs=function(){for(var t=this.attrs,e=this.componentFactory.outputs||[],n=0;n<e.length;n++){var r=new D(e[n].propName,e[n].templateName),o=r.bindonAttr.substring(0,r.bindonAttr.length-6),i="[("+r.bracketParenAttr.substring(2,r.bracketParenAttr.length-8)+")]";t.hasOwnProperty(o)&&this.subscribeToOutput(r,t[o],!0),t.hasOwnProperty(i)&&this.subscribeToOutput(r,t[i],!0),t.hasOwnProperty(r.onAttr)&&this.subscribeToOutput(r,t[r.onAttr]),t.hasOwnProperty(r.parenAttr)&&this.subscribeToOutput(r,t[r.parenAttr])}},t.prototype.subscribeToOutput=function(t,e,n){var r=this;void 0===n&&(n=!1);var o=this.$parse(e),i=o.assign;if(n&&!i)throw new Error("Expression '"+e+"' is not assignable!");var s=this.component[t.prop];if(!s)throw new Error("Missing emitter '"+t.prop+"' on component '"+_(this.componentFactory.componentType)+"'!");s.subscribe({next:n?function(t){return i(r.scope,t)}:function(t){return o(r.scope,{$event:t})}})},t.prototype.registerCleanup=function(){var t=this,e=this.componentRef.injector.get(b),n=this.wrapCallback((function(){return t.componentRef.destroy()})),r=!1;this.element.on("$destroy",(function(){return t.componentScope.$destroy()})),this.componentScope.$on("$destroy",(function(){r||(r=!0,e.unregisterApplication(t.componentRef.location.nativeElement),n())}))},t.prototype.getInjector=function(){return this.componentRef.injector},t.prototype.updateInput=function(t,e,n){this.implementsOnChanges&&(this.inputChanges[t]=new C(e,n,e===n)),this.inputChangeCount++,this.component[t]=n},t.prototype.groupProjectableNodes=function(){return function(t,e){for(var n=[],r=0,o=t.length;r<o;++r)n[r]=[];for(var i=0,s=e.length;i<s;++i){var a=e[i],c=G(a,t);null!=c&&n[c].push(a)}return n}(this.componentFactory.ngContentSelectors,this.element.contents())},t}();function G(t,e){for(var n=[],r=-1,o=0;o<e.length;o++){var i=e[o];"*"===i?r=o:J(t,i)&&n.push(o)}return n.sort(),-1!==r&&n.push(r),n.length?n[0]:null}function J(t,e){if(!V){var n=Element.prototype;V=n.matches||n.matchesSelector||n.mozMatchesSelector||n.msMatchesSelector||n.oMatchesSelector||n.webkitMatchesSelector}return t.nodeType===Node.ELEMENT_NODE&&V.call(t,e)}
/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */var H=function(){function t(){this.resolved=!1,this.callbacks=[]}return t.all=function(e){var n=new t,r=0,o=[],i=function(t,i){o[t]=i,++r===e.length&&n.resolve(o)};return e.forEach((function(t,e){var n;(n=t)&&F(n.then)?t.then((function(t){return i(e,t)})):i(e,t)})),n},t.prototype.resolve=function(t){this.resolved||(this.value=t,this.resolved=!0,this.callbacks.forEach((function(e){return e(t)})),this.callbacks.length=0)},t.prototype.then=function(t){this.resolved?t(this.value):this.callbacks.push(t)},t}();
/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */var K=function(e){function n(t){var n=e.call(this)||this;return n.element=t,n.injectorKey=N(P),t.data(n.injectorKey,n),n}return t(n,e),n.prototype.resolve=function(t){this.element.data(this.injectorKey,t),this.element=null,e.prototype.resolve.call(this,t)},n}(H);
/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var X=/^(\^\^?)?(\?)?(\^\^?)?/,Y=function(){function t(e,n,r,o){this.injector=e,this.name=n,this.$injector=e.get("$injector"),this.$compile=this.$injector.get("$compile"),this.$controller=this.$injector.get("$controller"),this.element=r.nativeElement,this.$element=R(this.element),this.directive=o||t.getDirective(this.$injector,n)}return t.getDirective=function(t,e){var n=t.get(e+"Directive");if(n.length>1)throw new Error("Only support single directive definition for: "+e);var r=n[0];return r.compile&&!r.link&&tt(e,"compile"),r.replace&&tt(e,"replace"),r.terminal&&tt(e,"terminal"),r},t.getTemplate=function(t,e,n,r){if(void 0===n&&(n=!1),void 0!==e.template)return Q(e.template,r);if(e.templateUrl){var o=t.get("$templateCache"),i=Q(e.templateUrl,r),s=o.get(i);if(void 0!==s)return s;if(!n)throw new Error("loading directive templates asynchronously is not supported");return new Promise((function(e,n){t.get("$httpBackend")("GET",i,null,(function(t,r){200===t?e(o.put(i,r)):n("GET component template from '"+i+"' returned '"+t+": "+r+"'")}))}))}throw new Error("Directive '"+e.name+"' is not a component, it is missing template.")},t.prototype.buildController=function(t,e){var n={$scope:e,$element:this.$element},r=this.$controller(t,n,null,this.directive.controllerAs);return this.$element.data(N(this.directive.name),r),r},t.prototype.compileTemplate=function(e){return void 0===e&&(e=t.getTemplate(this.$injector,this.directive,!1,this.$element)),this.compileHtml(e)},t.prototype.onDestroy=function(t,e){e&&F(e.$onDestroy)&&e.$onDestroy(),t.$destroy(),R.cleanData([this.element]),R.cleanData(this.element.querySelectorAll("*"))},t.prototype.prepareTransclusion=function(){var t=this,e=this.directive.transclude,n=this.extractChildNodes(),r=function(t,e){return e(o,t=t||{$destroy:function(){}})},o=n;if(e){var i=Object.create(null);if("object"==typeof e){o=[];var s=Object.create(null),a=Object.create(null);Object.keys(e).forEach((function(t){var n=e[t],r="?"===n.charAt(0);n=r?n.substring(1):n,s[n]=t,i[t]=null,a[t]=r})),n.forEach((function(t){var e,n=s[(e=t.nodeName.toLowerCase(),e.replace(S,"").replace(I,(function(t,e){return e.toUpperCase()})))];n?(a[n]=!0,i[n]=i[n]||[],i[n].push(t)):o.push(t)})),Object.keys(a).forEach((function(e){if(!a[e])throw new Error("Required transclusion slot '"+e+"' on directive: "+t.name)})),Object.keys(i).filter((function(t){return i[t]})).forEach((function(t){var e=i[t];i[t]=function(t,n){return n(e,t)}}))}r.$$slots=i,o.forEach((function(t){t.nodeType!==Node.TEXT_NODE||t.nodeValue||(t.nodeValue="‌")}))}return r},t.prototype.resolveAndBindRequiredControllers=function(t){var e=this.getDirectiveRequire(),n=this.resolveRequire(e);if(t&&this.directive.bindToController&&W(e)){var r=n;Object.keys(r).forEach((function(e){t[e]=r[e]}))}return n},t.prototype.compileHtml=function(t){return this.element.innerHTML=t,this.$compile(this.element.childNodes)},t.prototype.extractChildNodes=function(){for(var t,e=[];t=this.element.firstChild;)this.element.removeChild(t),e.push(t);return e},t.prototype.getDirectiveRequire=function(){var t=this.directive.require||this.directive.controller&&this.directive.name;return W(t)&&Object.keys(t).forEach((function(e){var n=t[e],r=n.match(X);n.substring(r[0].length)||(t[e]=r[0]+e)})),t},t.prototype.resolveRequire=function(t,e){var n=this;if(t){if(Array.isArray(t))return t.map((function(t){return n.resolveRequire(t)}));if("object"==typeof t){var r={};return Object.keys(t).forEach((function(e){return r[e]=n.resolveRequire(t[e])})),r}if("string"==typeof t){var o=t.match(X),i=o[1]||o[3],s=t.substring(o[0].length),a=!!o[2],c=!!i,p="^^"===i,u=N(s),l=p?this.$element.parent():this.$element,h=c?l.inheritedData(u):l.data(u);if(!h&&!a)throw new Error("Unable to find required '"+t+"' in upgraded directive '"+this.name+"'.");return h}throw new Error("Unrecognized 'require' syntax on upgraded directive '"+this.name+"': "+t)}return null},t}();function Q(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return F(t)?t.apply(void 0,i(e)):t}function W(t){return t&&!Array.isArray(t)&&"object"==typeof t}function tt(t,e){throw new Error("Upgraded directive '"+t+"' contains unsupported feature: '"+e+"'.")}
/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */var et=/([A-Z])/g,nt={__UNINITIALIZED__:!0},rt=function(){function e(e){this.name=e,this.inputs=[],this.inputsRename=[],this.outputs=[],this.outputsRename=[],this.propertyOutputs=[],this.checkProperties=[],this.propertyMap={},this.directive=null;var i=e.replace(et,(function(t,e){return"-"+e.toLowerCase()})),a=this,c={selector:i,inputs:this.inputsRename,outputs:this.outputsRename},u=function(i){function u(t,n,r){return i.call(this,new Y(n,e,r,a.directive||void 0),t,a.template,a.inputs,a.outputs,a.propertyOutputs,a.checkProperties,a.propertyMap)||this}return t(u,i),u=n([f(r({jit:!0},c)),s(0,m("$scope")),o("design:paramtypes",[Object,p,g])],u)}(ot);this.type=u}return e.prototype.extractBindings=function(){var t=this,e="object"==typeof this.directive.bindToController;if(e&&Object.keys(this.directive.scope).length)throw new Error("Binding definitions on scope and controller at the same time are not supported.");var n=e?this.directive.bindToController:this.directive.scope;"object"==typeof n&&Object.keys(n).forEach((function(e){var r=n[e],o=r.charAt(0),i=r.charAt(1),s=r.substring("?"===i?2:1)||e,a="input_"+s,c=a+": "+s,p="output_"+s,u=p+": "+s,l=u+"Change";switch(o){case"@":case"<":t.inputs.push(a),t.inputsRename.push(c),t.propertyMap[a]=e;break;case"=":t.inputs.push(a),t.inputsRename.push(c),t.propertyMap[a]=e,t.outputs.push(p),t.outputsRename.push(l),t.propertyMap[p]=e,t.checkProperties.push(e),t.propertyOutputs.push(p);break;case"&":t.outputs.push(p),t.outputsRename.push(u),t.propertyMap[p]=e;break;default:var h=JSON.stringify(n);throw new Error("Unexpected mapping '"+o+"' in '"+h+"' in '"+t.name+"' directive.")}}))},e.resolve=function(t,e){var n=Object.keys(t).map((function(n){var r=t[n];return r.directive=Y.getDirective(e,n),r.extractBindings(),Promise.resolve(Y.getTemplate(e,r.directive,!0)).then((function(t){return r.template=t}))}));return Promise.all(n)},e}(),ot=function(){function t(t,e,n,r,o,i,s,a){this.helper=t,this.template=n,this.inputs=r,this.outputs=o,this.propOuts=i,this.checkProperties=s,this.propertyMap=a,this.controllerInstance=null,this.destinationObj=null,this.checkLastValues=[],this.$element=null,this.directive=t.directive,this.element=t.element,this.$element=t.$element,this.componentScope=e.$new(!!this.directive.scope);var c=this.directive.controller;this.directive.bindToController&&c?(this.controllerInstance=this.helper.buildController(c,this.componentScope),this.destinationObj=this.controllerInstance):this.destinationObj=this.componentScope;for(var p=0;p<r.length;p++)this[r[p]]=null;for(var u=0;u<o.length;u++){var l=this[o[u]]=new v;-1===this.propOuts.indexOf(o[u])&&this.setComponentProperty(o[u],function(t){return function(e){return t.emit(e)}}(l))}for(var h=0;h<i.length;h++)this.checkLastValues.push(nt)}return t.prototype.ngOnInit=function(){var t=this.helper.prepareTransclusion(),e=this.helper.compileTemplate(this.template),n=this.directive.controller,r=this.directive.bindToController;n&&!r&&(this.controllerInstance=this.helper.buildController(n,this.componentScope));var o=this.helper.resolveAndBindRequiredControllers(this.controllerInstance);this.controllerInstance&&F(this.controllerInstance.$onInit)&&this.controllerInstance.$onInit();var i=this.directive.link,s="object"==typeof i&&i.pre,a="object"==typeof i?i.post:i;s&&s(this.componentScope,this.$element,"NOT_SUPPORTED",o,"NOT_SUPPORTED"),e(this.componentScope,null,{parentBoundTranscludeFn:t}),a&&a(this.componentScope,this.$element,"NOT_SUPPORTED",o,"NOT_SUPPORTED"),this.controllerInstance&&F(this.controllerInstance.$postLink)&&this.controllerInstance.$postLink()},t.prototype.ngOnChanges=function(t){var e=this,n={};Object.keys(t).forEach((function(r){var o=t[r];e.setComponentProperty(r,o.currentValue),n[e.propertyMap[r]]=o})),F(this.destinationObj.$onChanges)&&this.destinationObj.$onChanges(n)},t.prototype.ngDoCheck=function(){var t=this,e=this.destinationObj,n=this.checkLastValues,r=this.checkProperties,o=this.propOuts;r.forEach((function(r,i){var s=e[r];L(n[i],s)||t[o[i]].emit(n[i]=s)})),this.controllerInstance&&F(this.controllerInstance.$doCheck)&&this.controllerInstance.$doCheck()},t.prototype.ngOnDestroy=function(){this.helper.onDestroy(this.componentScope,this.controllerInstance)},t.prototype.setComponentProperty=function(t,e){this.destinationObj[this.propertyMap[t]]=e},t}(),it=0,st=function(){function t(t,e){if(this.ng2AppModule=t,this.compilerOptions=e,this.idPrefix="NG2_UPGRADE_"+it+++"_",this.downgradedComponents=[],this.ng1ComponentsToBeUpgraded={},this.upgradedProviders=[],this.moduleRef=null,!t)throw new Error("UpgradeAdapter cannot be instantiated without an NgModule of the Angular app.")}return t.prototype.downgradeNg2Component=function(t){return this.downgradedComponents.push(t),n={component:t},(r=function(t,r,o){var i,s=3===U(r),a=s?function(t){return function(){return c.isInAngularZone()?t():i.run(t)}}:function(t){return t},p=s&&B(r)>1;return{restrict:"E",terminal:!0,require:["?^^$$angularInjector","?ngModel"],link:function(u,l,h,d){var f=d[1],m=d[0],g=void 0,v=!1;if(!m||p){var y=n.downgradedModule||"",$="$$angularLazyModuleRef"+y,b="instantiating component '"+_(n.component)+"'";x(r,y,$,b);var j=r.get($);g=j.injector||j.promise}var C=m||g,O=g||m,E=function(e,i){var c=i.get(w).resolveComponentFactory(n.component);if(!c)throw new Error("Expecting ComponentFactory for: "+_(n.component));var p=new K(l),d=new z(l,h,u,f,e,r,t,o,c,a),m=d.compileContents();d.createComponent(m),d.setupInputs(s,n.propagateDigest),d.setupOutputs(),d.registerCleanup(),p.resolve(d.getInjector()),v&&u.$evalAsync((function(){}))},A=s?function(t,e){i||(i=t.get(c)),a((function(){return E(t,e)}))()}:E;H.all([C,O]).then((function(t){var n=e(t,2),r=n[0],o=n[1];return A(r,o)})),v=!0}}}).$inject=["$compile","$injector","$parse"],r;var n,r},t.prototype.upgradeNg1Component=function(t){return this.ng1ComponentsToBeUpgraded.hasOwnProperty(t)?this.ng1ComponentsToBeUpgraded[t].type:(this.ng1ComponentsToBeUpgraded[t]=new rt(t)).type},t.prototype.registerForNg1Tests=function(t){var e=this,n=window.angular.mock;if(!n||!n.module)throw new Error("Failed to find 'angular.mock.module'.");this.declareNg1Module(t),n.module(this.ng1Module.name);var r=new at;return this.ng2BootstrapDeferred.promise.then((function(t){r._bootstrapDone(e.moduleRef,t)}),M),r},t.prototype.bootstrap=function(t,n,r){var o=this;this.declareNg1Module(n);var i=new at,s=window.angular;s.resumeBootstrap=void 0,this.ngZone.run((function(){!function(t,e,n){T.bootstrap(t,e,n)}(t,[o.ng1Module.name],r)}));var a=new Promise((function(t){if(s.resumeBootstrap){var e=s.resumeBootstrap;s.resumeBootstrap=function(){s.resumeBootstrap=e;var n=s.resumeBootstrap.apply(this,arguments);return t(),n}}else t()}));return Promise.all([this.ng2BootstrapDeferred.promise,a]).then((function(n){var r=e(n,1)[0];R(t).data(N(P),o.moduleRef.injector),o.moduleRef.injector.get(c).run((function(){i._bootstrapDone(o.moduleRef,r)}))}),M),i},t.prototype.upgradeNg1Provider=function(t,e){var n=e&&e.asToken||t;this.upgradedProviders.push({provide:n,useFactory:function(e){return e.get(t)},deps:["$injector"]})},t.prototype.downgradeNg2Provider=function(t){return function(t,e){void 0===e&&(e="");var n=function(n){var r=""+P+e,o=F(t)?_(t):String(t);return x(n,e,r,"instantiating injectable '"+o+"'"),n.get(r).get(t)};return n.$inject=["$injector"],n}(t)},t.prototype.declareNg1Module=function(t){var e=this;void 0===t&&(t=[]);var i,s,a,f,m=[],g=this,v=this.ng1Module=(a=this.idPrefix,f=t,T.module(a,f)),w=O();return this.ngZone=new c({enableLongStackTrace:Zone.hasOwnProperty("longStackTraceZoneSpec")}),this.ng2BootstrapDeferred=new q,v.constant("$$angularUpgradeAppType",1).factory(P,(function(){return e.moduleRef.injector.get(p)})).factory("$$angularLazyModuleRef",[P,function(t){return{injector:t}}]).constant("$$angularNgZone",this.ngZone).factory("$$angularCompiler",(function(){return e.moduleRef.injector.get(u)})).config(["$provide","$injector",function(t,e){t.decorator("$rootScope",["$delegate",function(t){if(!(s=t.constructor.prototype).hasOwnProperty("$apply"))throw new Error("Failed to find '$apply' on '$rootScope'!");return i=s.$apply,s.$apply=function(t){return m.push(t)},t}]),e.has("$$testability")&&t.decorator("$$testability",["$delegate",function(t){var e=t.whenStable,n=function(t){e.call(this,(function(){var e=g.moduleRef.injector.get(y);e.isStable()?t.apply(this,arguments):e.whenStable(n.bind(this,t))}))};return t.whenStable=n,t}])}]),v.run(["$injector","$rootScope",function(t,a){rt.resolve(e.ng1ComponentsToBeUpgraded,t).then((function(){var c={providers:[{provide:"$injector",useFactory:function(){return t}},{provide:"$compile",useFactory:function(){return t.get("$compile")}},e.upgradedProviders],imports:[l(e.ng2AppModule)],entryComponents:e.downgradedComponents},p=function(){function t(){}return t.prototype.ngDoBootstrap=function(){},t=n([h(r({jit:!0},c)),o("design:paramtypes",[])],t)}();w.bootstrapModule(p,[e.compilerOptions,{ngZone:e.ngZone}]).then((function(t){e.moduleRef=t,e.ngZone.run((function(){if(s){for(s.$apply=i;m.length;)a.$apply(m.shift());s=null}}))})).then((function(){return e.ng2BootstrapDeferred.resolve(t)}),M).then((function(){var t=e.ngZone.onMicrotaskEmpty.subscribe({next:function(){return a.$$phase?(d()&&console.warn("A digest was triggered while one was already in progress. This may mean that something is triggering digests outside the Angular zone."),a.$evalAsync((function(){}))):a.$digest()}});a.$on("$destroy",(function(){t.unsubscribe()}))}))})).catch((function(t){return e.ng2BootstrapDeferred.reject(t)}))}]),v},t}(),at=function(){function t(){this._readyFn=null,this.ng1RootScope=null,this.ng1Injector=null,this.ng2ModuleRef=null,this.ng2Injector=null}return t.prototype._bootstrapDone=function(t,e){this.ng2ModuleRef=t,this.ng2Injector=t.injector,this.ng1Injector=e,this.ng1RootScope=e.get("$rootScope"),this._readyFn&&this._readyFn(this)},t.prototype.ready=function(t){this._readyFn=t},t.prototype.dispose=function(){this.ng1Injector.get("$rootScope").$destroy(),this.ng2ModuleRef.destroy()},t}();export{st as UpgradeAdapter,at as UpgradeAdapterRef,E as VERSION};
//# sourceMappingURL=upgrade.js.map
